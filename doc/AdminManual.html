<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>Open Hospital 1.11.4 - Administrator’s Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Open Hospital 1.11.4 - Administrator’s Guide</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_open_hospital">Open Hospital</a></li>
<li><a href="#_1_introduction">1 Introduction</a>
<ul class="sectlevel2">
<li><a href="#_1_1_main_features">1.1 Main Features</a></li>
<li><a href="#_1_2_hardware_requirements">1.2 Hardware requirements</a></li>
<li><a href="#_1_3_software_requirements">1.3 Software requirements</a></li>
<li><a href="#download">1.5 Download</a></li>
<li><a href="#unpack">1.6 Unpack</a></li>
<li><a href="#_1_7_documentation">1.7 Documentation</a></li>
</ul>
</li>
<li><a href="#_2_installation">2 Installation</a>
<ul class="sectlevel2">
<li><a href="#client">2.1 OH - CLIENT mode</a>
<ul class="sectlevel3">
<li><a href="#prereq">2.1.1 Prerequisites - Software compatibility matrix</a></li>
<li><a href="#jre">2.1.2 Java Runtime Environment (JRE)</a></li>
<li><a href="#database-server">2.1.3 Database Server</a>
<ul class="sectlevel4">
<li><a href="#_2_1_3_1_mariadbmysql_server_installation">2.1.3.1 MariaDB/MySQL - Server installation</a></li>
<li><a href="#_2_1_3_2_mariadbmysql_configuration">2.1.3.2 MariaDB/MySQL - Configuration</a></li>
<li><a href="#_2_1_3_3_mariadbmysql_networking">2.1.3.3 MariaDB/MySQL - Networking</a></li>
</ul>
</li>
<li><a href="#ohdatabase-creation">2.1.4 OH - Database creation</a></li>
<li><a href="#setup">2.1.5 OH - CLIENT configuration</a></li>
<li><a href="#run">2.1.6 OH - Startup and run</a></li>
</ul>
</li>
<li><a href="#portable">2.2 OH - PORTABLE mode</a></li>
<li><a href="#_running_oh_quickstart">Running OH - Quickstart</a>
<ul class="sectlevel3">
<li><a href="#_common_to_all_operating_systems_architectures">Common to all Operating Systems / architectures</a></li>
<li><a href="#_linux">Linux</a></li>
<li><a href="#_windows">Windows</a>
<ul class="sectlevel4">
<li><a href="#_windows_create_startup_shortcut">Windows - create startup shortcut</a></li>
<li><a href="#_windows_legacy_mode">Windows - legacy mode</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_options">Options</a>
<ul class="sectlevel3">
<li><a href="#_script_configuration">Script configuration</a>
<ul class="sectlevel4">
<li><a href="#_oh_directory_path">OH directory path</a></li>
<li><a href="#_config_file_generation">Config file generation</a></li>
<li><a href="#_distribution_type_client_portable">Distribution type - CLIENT | PORTABLE</a></li>
<li><a href="#_demo_mode">Demo mode</a></li>
<li><a href="#_interface_and_software_language">Interface and software language:</a></li>
<li><a href="#_windows_only_enable_disable_dicom_features">(Windows only) Enable / disable DICOM features</a></li>
<li><a href="#_log_level_debug_mode">Log level / debug mode</a></li>
<li><a href="#_enable_system_wide_java">Enable system wide JAVA</a></li>
<li><a href="#_database_and_software_configuration">Database and software configuration</a></li>
<li><a href="#_windows_only_enable_interactive_mode">(Windows only) Enable interactive mode</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_default_directory_structure">Default directory structure</a></li>
<li><a href="#_documentation">Documentation</a>
<ul class="sectlevel3">
<li><a href="#_known_issues">Known issues</a></li>
<li><a href="#_linux_2">Linux</a></li>
<li><a href="#_windows_2">Windows</a></li>
<li><a href="#_windows_legacy_mode_2">Windows - legacy mode</a></li>
</ul>
</li>
<li><a href="#backup-restore">2.3 Backup &amp; Restore</a>
<ul class="sectlevel3">
<li><a href="#backup-data">2.3.1 Backup of database (alternative with MySQL Workbench®)</a></li>
<li><a href="#restore-data">2.3.2 Restore of database (alternative with MySQL Workbench®)</a></li>
<li><a href="#_2_3_3_backup_of_oh_code_and_settings">2.3.3 Backup of OH code and settings</a></li>
</ul>
</li>
<li><a href="#folders">2.4 Folders and directory structure</a></li>
<li><a href="#_2_5_appearance">2.5 Appearance</a></li>
</ul>
</li>
<li><a href="#configuration">3 Configuration</a>
<ul class="sectlevel2">
<li><a href="#settings-properties">3.1 settings.properties</a>
<ul class="sectlevel3">
<li><a href="#language">3.1.1 LANGUAGE</a></li>
<li><a href="#_3_1_2_singleuser">3.1.2 SINGLEUSER</a></li>
<li><a href="#_3_1_3_automaticlot">3.1.3 AUTOMATICLOT</a></li>
<li><a href="#_3_1_4_lotwithcost">3.1.4 LOTWITHCOST</a></li>
<li><a href="#_3_1_5_patientsheet">3.1.5 PATIENTSHEET</a></li>
<li><a href="#_3_1_6_opdchart">3.1.6 OPDCHART</a></li>
<li><a href="#_3_1_7_admchart">3.1.7 ADMCHART</a></li>
<li><a href="#_3_1_8_dischart">3.1.8 DISCHART</a></li>
<li><a href="#_3_1_9_patientbill">3.1.9 PATIENTBILL</a></li>
<li><a href="#_3_1_10_billsreport">3.1.10 BILLSREPORT</a></li>
<li><a href="#_3_1_11_billsreportmonth">3.1.11 BILLSREPORTMONTH</a></li>
<li><a href="#_3_1_12_pharmaceuticalorder">3.1.12 PHARMACEUTICALORDER</a></li>
<li><a href="#_3_1_13_pharmaceuticalstock">3.1.13 PHARMACEUTICALSTOCK</a></li>
<li><a href="#_3_1_14_patientextended">3.1.14 PATIENTEXTENDED</a></li>
<li><a href="#_3_1_15_opdextended">3.1.15 OPDEXTENDED</a></li>
<li><a href="#_3_1_16_maternityrestartinjune">3.1.16 MATERNITYRESTARTINJUNE</a></li>
<li><a href="#_3_1_17_labextended">3.1.17 LABEXTENDED</a></li>
<li><a href="#_3_1_18_labmultipleinsert">3.1.18 LABMULTIPLEINSERT</a></li>
<li><a href="#_3_1_19_internalpharmacies">3.1.19 INTERNALPHARMACIES</a></li>
<li><a href="#_3_1_20_mergefunction">3.1.20 MERGEFUNCTION</a></li>
<li><a href="#_3_1_21_internalviewer">3.1.21 INTERNALVIEWER</a></li>
<li><a href="#_3_1_22_doc_dir">3.1.22 DOC_DIR</a></li>
<li><a href="#_3_1_23_smsenabled">3.1.23 SMSENABLED</a>
<ul class="sectlevel4">
<li><a href="#_3_1_23_1_gsm_configuration">3.1.23.1 GSM Configuration</a></li>
<li><a href="#_3_1_23_2_setupgsm_utility">3.1.23.2 SetupGSM utility</a></li>
</ul>
</li>
<li><a href="#_3_1_24_mainmenualwaysontop">3.1.24 MAINMENUALWAYSONTOP</a></li>
<li><a href="#receiptprinter">3.1.25 RECEIPTPRINTER</a></li>
<li><a href="#_3_1_26_videomoduleenabled">3.1.26 VIDEOMODULEENABLED</a></li>
<li><a href="#_3_1_27_patientvaccineextended">3.1.27 PATIENTVACCINEEXTENDED</a></li>
<li><a href="#_3_1_28_enhancedsearch">3.1.28 ENHANCEDSEARCH</a></li>
<li><a href="#xmppmoduleenabled">3.1.29 XMPPMODULEENABLED</a></li>
<li><a href="#_3_1_30_dicommoduleenabled">3.1.30 DICOMMODULEENABLED</a></li>
<li><a href="#_3_1_31_dicomthumbnails">3.1.31 DICOMTHUMBNAILS</a></li>
<li><a href="#_3_1_32_debug">3.1.32 DEBUG</a></li>
<li><a href="#_3_1_33_allowmultipleopenedbill">3.1.33 ALLOWMULTIPLEOPENEDBILL</a></li>
<li><a href="#_3_1_34_openedbillsreport">3.1.34 OPENEDBILLSREPORT</a></li>
<li><a href="#_3_1_35_allowprintopenedbill">3.1.35 ALLOWPRINTOPENEDBILL</a></li>
<li><a href="#users-list-login">3.1.36 USERSLISTLOGIN</a></li>
<li><a href="#strongpasword">3.1.37 STRONGPASSWORD</a></li>
<li><a href="#stronglength">3.1.38 STRONGLENGTH</a></li>
<li><a href="#_3_1_39_patientphotostorage">3.1.39 PATIENTPHOTOSTORAGE</a></li>
</ul>
</li>
<li><a href="#database-properties">3.2 database.properties</a></li>
<li><a href="#_3_3_dicom_properties">3.3 dicom.properties</a></li>
<li><a href="#_3_4_examination_properties">3.4 examination.properties</a></li>
<li><a href="#log4j-properties">3.5 log4j.properties</a></li>
<li><a href="#sms-properties">3.6 sms.properties</a>
<ul class="sectlevel3">
<li><a href="#_3_6_1_skebby_gateway_service">3.6.1 skebby-gateway-service</a></li>
<li><a href="#_3_6_2_textbelt_gateway_service">3.6.2 textbelt-gateway-service</a></li>
</ul>
</li>
<li><a href="#txtprinter-properties">3.7 txtPrinter.properties</a></li>
<li><a href="#xmpp-properties">3.8 xmpp.properties</a>
<ul class="sectlevel3">
<li><a href="#_3_8_1_openfire_settings">3.8.1 OpenFire Settings</a></li>
</ul>
</li>
<li><a href="#_3_9_bundles">3.9 Bundles</a>
<ul class="sectlevel3">
<li><a href="#_3_9_1_new_translations">3.9.1 New Translations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#reports">4 Reports</a></li>
<li><a href="#_5_installing_open_hospital_1_11_4_in_eclipse_ee">5 Installing Open Hospital 1.11.4 in Eclipse EE</a>
<ul class="sectlevel2">
<li><a href="#_5_1_run_the_project">5.1 Run the Project</a></li>
</ul>
</li>
<li><a href="#update-open-hospital">6 Update Open Hospital</a>
<ul class="sectlevel2">
<li><a href="#_6_1_update_open_hospital_client_mode">6.1 Update Open Hospital - CLIENT mode</a></li>
<li><a href="#_6_2_update_open_hospital_portable_mode">6.2 Update Open Hospital - PORTABLE mode</a></li>
</ul>
</li>
<li><a href="#_7_license">7 License</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p><span class="image"><img src="media/OH-splash.png" alt="OH splash" width="316" height="237"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href="http://creativecommons.org/licenses/by-sa/4.0"><img src="media/by-sa.png" alt="bysa" width="88" height="31"></a></span> <span class="small">Informatici Senza Frontiere Onlus, 2022</span>
<br><span class="small">Administrator’s Guide, &#169; 2022 by <a href="https://www.informaticisenzafrontiere.org/">Informatici Senza Frontiere Onlus</a></span>
<br><span class="small">Policies is made available under a <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0</a> International License: <a href="http://creativecommons.org/licenses/by-sa/4.0/" class="bare">http://creativecommons.org/licenses/by-sa/4.0/</a>.</span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_open_hospital">Open Hospital</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_1_introduction">1 Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OH - Open Hospital (<a href="https://www.open-hospital.org/" class="bare">https://www.open-hospital.org/</a>) is a free and open-source Electronic Health Record (EHR) software application.
Open Hospital is deployed as a desktop application that can be used in a standalone, single-user mode (PORTABLE mode)
or in a client/server network configuration (CLIENT mode), where multiple clients and users connect to the same database server.</p>
</div>
<div class="paragraph">
<p>Open Hospital is developed in Java and it is based on open-source tools and libraries; it runs on any computer, requires low resources, and is designed to work without an internet connection.</p>
</div>
<div class="paragraph">
<p>Open Hospital is the first of a set of software applications that ISF<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> has developed to support the information management and the activities of hospitals and health centers in the simplest manner possible, by providing tools for the administrative operations (like registering patients, manage laboratory analysis and pharmaceutical stocks) and to produce detailed statistics and reports.
It was first deployed in 2006 at the St. Luke Hospital in Angal (Uganda) and it is now used in dozens of different locations around the world.</p>
</div>
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="_1_1_main_features">1.1 Main Features</h3>
<div class="paragraph">
<p>OH - Open Hospital features include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pharmacy management</p>
</li>
<li>
<p>Laboratory management</p>
</li>
<li>
<p>OPD management</p>
</li>
<li>
<p>Patient admission and discharge management</p>
</li>
<li>
<p>Pregnancy management</p>
</li>
<li>
<p>Malnutrition control management</p>
</li>
<li>
<p>Vaccines database</p>
</li>
<li>
<p>Patient billing support</p>
</li>
<li>
<p>Therapy management</p>
</li>
<li>
<p>Appointment scheduling</p>
</li>
<li>
<p>Internal communication</p>
</li>
<li>
<p>Statistics and printing</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For a detailed description of these features please refer to the <em>Open Hospital User&#8217;s Guide</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_1_2_hardware_requirements">1.2 Hardware requirements</h3>
<div class="paragraph">
<p>Minimum hardware requirements for running OH:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>PC / Notebook with dual core CPU</p>
</li>
<li>
<p>2 Gb RAM (4 Gb recommended)</p>
</li>
<li>
<p>4 Gb free hard disk space (8 Gb recommended)</p>
</li>
<li>
<p>Network adapter (for client/server configuration)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These specifications are for the OH application only; database server specifications may vary accordingly to the different use cases.</p>
</div>
</div>
<div class="sect2">
<h3 id="_1_3_software_requirements">1.3 Software requirements</h3>
<div class="paragraph">
<p>Minimum Operating System version required for running OH:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Windows 7 (Windows 10/11 recommended)</p>
</li>
<li>
<p>Ubuntu 18.04 (Ubuntu 20.04 recommended)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>32 bit (i686) and 64 bit (x86_64) architectures are supported.</p>
</div>
</div>
<div class="sect2">
<h3 id="download">1.5 Download</h3>
<div class="paragraph">
<p>Open Hospital official releases can be downloaded from GitHub: <a href="https://github.com/informatici/openhospital/releases/latest" class="bare">https://github.com/informatici/openhospital/releases/latest</a></p>
</div>
<div class="paragraph">
<p>More information can be found on the Open Hospital website: <a href="https://www.open-hospital.org/download" class="bare">https://www.open-hospital.org/download</a></p>
</div>
</div>
<div class="sect2">
<h3 id="unpack">1.6 Unpack</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Do not double-click on the <strong>oh.bat</strong> startup script without unzipping the package first!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A downloaded compressed archive can be opened on most operating systems by just double-clicking on it.
In this way, the archive is just opened, but not uncompressed. Let&#8217;s say it is open for "inspection" only.</p>
</div>
<div class="paragraph">
<p>In order to work with the application you need to unzip (uncompress) the downloaded package in a folder of your choice.</p>
</div>
<div class="paragraph">
<p>To uncompress the package: <strong>Right-click on the package &#8594; Extract all/here</strong></p>
</div>
<div class="paragraph">
<p><strong>Alternative method</strong>: uncompress package from command line</p>
</div>
<div class="ulist">
<ul>
<li>
<p>on Linux:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>tar zxvf OpenHospital-v[VERSION]-linux_[ARCH]-[portable].tgz # portable version
unzip x OpenHospital-v[VERSION]-linux_multiarch.zip # multiarch client version</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>on Windows:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>unzip OpenHospital-v[VERSION]-windows_[ARCH]-[portable].zip # portable version
unzip OpenHospital-v[VERSION]-multiarch-client.zip # multiarch client version</pre>
</div>
</div>
<div class="paragraph">
<p>After uncompressing the package, browse to the extracted directory (example given for version 1.11.4):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>on Linux:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>cd /home/OH/OpenHospital-v1.11.4</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>on Windows:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>cd C:\Users\OH\OpenHospital-v1.11.4</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You need read/write permission on the selected folder.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Do not run OH by double-clicking on the <strong>oh.bat</strong> startup script without unzipping the package first!
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_1_7_documentation">1.7 Documentation</h3>
<div class="paragraph">
<p>In the following chapters, all the information needed to install, configure, deploy, run and maintain an Open Hospital
installation is presented, including procedures on how to enable and disable features as well as managing users and groups in a multi user environment.
More information can be found on the Open Hospital web site <a href="https://www.open-hospital.org" class="bare">https://www.open-hospital.org</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The information needed to use the OH software is not included in this manual; please refer to the <em>Open Hospital User’s Guide</em>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2_installation">2 Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Open Hospital is a client application that can be used in two different ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#client">2.1 OH - CLIENT mode</a>: multi computers setup, with a central database (requires a little IT knowledge)</p>
</li>
<li>
<p><a href="#portable">2.2 OH - PORTABLE mode</a>: single computer setup, with inbuilt databases (click and run)</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Portable mode can be also used to test the application.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="client">2.1 OH - CLIENT mode</h3>
<div class="paragraph">
<p>In this mode, the application will need a Server with a DBMS<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> to store the data.</p>
</div>
<div class="paragraph">
<p>The free and open-source MariaDB<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup> is the preferred database server.</p>
</div>
<div class="paragraph">
<p>The typical client/server, networked (LAN) configuration is shown in the following figure:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image3.png" alt="image" width="642" height="243"></span></p>
</div>
<div class="paragraph">
<p>The Administrator/Installer tasks are hereby listed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Server</p>
<div class="ulist">
<ul>
<li>
<p><a href="#download">Download</a> the Open Hospital package for the selected Operating System (see <a href="#prereq">Prerequisites</a>)</p>
</li>
<li>
<p><a href="#unpack">Unpack</a> the downloaded package on the server machine by uncompressing the archive in a folder of your choice</p>
</li>
<li>
<p><a href="#database-server">Install and configure MariaDB/MySQL</a> on the server/computer that will act as the database server</p>
</li>
<li>
<p><a href="#ohdatabase-creation">Create the database</a> through the execution of a script found in the <em>sql/</em> folder</p>
</li>
<li>
<p><a href="#setup">Test</a> and <a href="#run">run</a> the application using 'localhost' setting</p>
</li>
</ul>
</div>
</li>
<li>
<p>Clients</p>
<div class="ulist">
<ul>
<li>
<p>Unpack the downloaded package on a client machine in a folder of your choice</p>
</li>
<li>
<p><a href="#setup">Configure</a> and <a href="#run">run</a> the application to point to the database server using the hostname or the IP address</p>
</li>
<li>
<p>Copy the newly configured package on every client</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="prereq">2.1.1 Prerequisites - Software compatibility matrix</h4>
<div class="paragraph">
<p>Before starting, check the following software compatibility matrix, to verify the external software versions needed to run Open Hospital and the current available extended features for every version, architecture, and operating system.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 99%;">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 10.9375%;">
<col style="width: 10.9375%;">
<col style="width: 10.9375%;">
<col style="width: 10.9375%;">
<col style="width: 10.9375%;">
<col style="width: 10.9375%;">
<col style="width: 10.9375%;">
<col style="width: 10.9375%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="9"><strong>Open Hospital compatibility matrix</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock"><strong>OH version</strong></p></td>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock"><strong>MariaDB</strong> / MySQL (community version)</p></td>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock">Java JRE version (*)</p></td>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock">O.S.</p></td>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock">O.S. arch</p></td>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock">JAVA/JRE arch</p></td>
<td class="tableblock halign-center valign-top" colspan="3"><p class="tableblock">Special Features</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">DICOM (*)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">SMS (gsm)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Webcam</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="4"><p class="tableblock"><strong>1.12.0</strong></p></td>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock"><strong>10.2.44</strong> / n.a.</p></td>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock"><strong>zulu11.58.23-ca</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ubuntu 21.10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10/11 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock"><strong>10.2.41</strong> / n.a.</p></td>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock"><strong>zulu11.58.25-ca</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10/11 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i386</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="4"><p class="tableblock"><strong>1.11.4</strong></p></td>
<td class="tableblock halign-center valign-top" rowspan="4"><p class="tableblock"><strong>10.2.42</strong> / n.a.</p></td>
<td class="tableblock halign-center valign-top" rowspan="4"><p class="tableblock"><strong>zulu8.60.0.21</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ubuntu 21.10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10/11 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10/11 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i386</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="4"><p class="tableblock"><strong>1.11.3</strong></p></td>
<td class="tableblock halign-center valign-top" rowspan="4"><p class="tableblock"><strong>10.2.42</strong> / n.a.</p></td>
<td class="tableblock halign-center valign-top" rowspan="4"><p class="tableblock"><strong>zulu8.60.0.21</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ubuntu 21.10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10/11 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10/11 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i386</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="4"><p class="tableblock"><strong>1.11.2</strong></p></td>
<td class="tableblock halign-center valign-top" rowspan="4"><p class="tableblock"><strong>10.2.41</strong> / 5.7.35</p></td>
<td class="tableblock halign-center valign-top" rowspan="4"><p class="tableblock"><strong>zulu8.58.0.13</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ubuntu 21.10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10/11 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10/11 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i386</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="4"><p class="tableblock"><strong>1.11.1</strong></p></td>
<td class="tableblock halign-center valign-top" rowspan="4"><p class="tableblock"><strong>10.2.41</strong> / 5.7.35</p></td>
<td class="tableblock halign-center valign-top" rowspan="4"><p class="tableblock"><strong>zulu8.58.0.13</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ubuntu 21.10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10/11 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10/11 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i386</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="5"><p class="tableblock"><strong>1.11.0</strong></p></td>
<td class="tableblock halign-center valign-top" rowspan="5"><p class="tableblock"><strong>10.2.40</strong> / 5.7.35</p></td>
<td class="tableblock halign-center valign-top" rowspan="5"><p class="tableblock"><strong>zulu8.56.0.21</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ubuntu 21.04</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ubuntu 18.04</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i386</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">?</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">?</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10 (**)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i386</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="5"><p class="tableblock"><strong>1.10.0</strong></p></td>
<td class="tableblock halign-center valign-top" rowspan="5"><p class="tableblock">n.a. / 5.1.x</p></td>
<td class="tableblock halign-center valign-top" rowspan="5"><p class="tableblock">1.6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ubuntu 20.04</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">?</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ubuntu 18.04</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i386</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">?</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i386</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="7"><p class="tableblock"><strong>1.9.1</strong></p></td>
<td class="tableblock halign-center valign-top" rowspan="5"><p class="tableblock">n.a. / 5.0.x</p></td>
<td class="tableblock halign-center valign-top" rowspan="5"><p class="tableblock">1.6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ubuntu 20.04</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">?</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Ubuntu 18.04</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i386</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">?</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">?</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">64bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">x64</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Windows 7/10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">i386</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32bit</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>v</strong></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 60%;">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">(*)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before 1.12.0, with Java 9+ loading a JPG/JPEG as DICOM image may not work</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">(**)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows Powershell 5.1 is required</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>v</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>working</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>x</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not working</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>?</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not tested</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">n/a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not applicable</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>last updated</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>2021.09.16</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="jre">2.1.2 Java Runtime Environment (JRE)</h4>
<div class="paragraph">
<p>Depending on the operating system, there are different ways to install the Java Runtime Environment (JRE).
The <strong>oh.sh / oh.bat</strong> scripts can be used to download and install the latest JRE available; it is also possible to install it
manually, following the specific instructions for the operating system being used.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See Software Compatibility Matrix to identify the correct Java version.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="database-server">2.1.3 Database Server</h4>
<div class="paragraph">
<p>Depending on the operating system, there are several software tools to install and manage a MariaDB/MySQL database server. In most cases just a standard installation package of the software is needed, paying attention to configuration options during the installation process.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See Software Compatibility Matrix to identify the correct MariaDB / MySQL version.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
MariaDB is the preferred alternative for the DBMS.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_2_1_3_1_mariadbmysql_server_installation">2.1.3.1 MariaDB/MySQL - Server installation</h5>
<div class="paragraph">
<p>Please referer to the latest MariaDB/MySQL Server online documentation for download<sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup> and installation<sup class="footnote">[<a id="_footnoteref_5" class="footnote" href="#_footnotedef_5" title="View footnote.">5</a>]</sup> information while using this document.</p>
</div>
<div class="paragraph">
<p><strong>on a Linux machine</strong>: during the installation, a “root” password must be defined; it is very important to choose it carefully and to keep it safe.</p>
</div>
<div class="paragraph">
<p><strong>on a Windows machine</strong>: launch the installation and pay attention to the following steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Custom Setup</p>
</li>
<li>
<p>Install all components except Development Components</p>
</li>
<li>
<p>Select Modify password for database user 'root', choose the root password, and keep it safe</p>
</li>
<li>
<p>Select Enable access from remote machines for 'root' user</p>
</li>
<li>
<p>Select UTF8 as the default charset for Best Support For Multilingualism</p>
</li>
<li>
<p>Select Install as service</p>
</li>
<li>
<p>Select Enable networking and take note of the selected Port Number</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
MariaDB installer does not include the bin directory in the Windows PATH environment variable; it must be added manually to the Windows system variable PATH.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To check if the server is active and running, open a terminal window (command prompt) and type the following command:</p>
</div>
<div class="paragraph">
<p><strong># mysql –u root -p</strong></p>
</div>
<div class="paragraph">
<p><strong>Enter password: <strong></strong></strong></p>
</div>
<div class="paragraph">
<p>The terminal should reply with the MySQL client command line prompt:</p>
</div>
<div class="paragraph">
<p><strong>MariaDB&gt;</strong></p>
</div>
<div class="paragraph">
<p>The prompt means that a successful connection to the database server instance has been established.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the terminal does not reply as above most probably during installation the <strong>Include Bin Directory in Windows PATH</strong> option was not selected and therefore Windows can not find the mysql command. If this is the case add the path manually by searching "system variables" in the Control Panel or append the full path to the "mysql" command (e.g., "C:\Program Files\MySQL\MySQL Server 5.0\bin\mysql" [with the quotes]). Another option is to uninstall and reinstall MySQL with the <strong>Include</strong> option selected.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_2_1_3_2_mariadbmysql_configuration">2.1.3.2 MariaDB/MySQL - Configuration</h5>
<div class="paragraph">
<p>Please use the following configuration values for MariaDB/MySQL server in <em>my.cnf</em> config file. Values can be adjusted and adapted to the hardware resources available.
Config file can be <em>my.ini</em> or <em>my.cnf</em>; default for Windows MariaDB is <em>my.ini</em> located at "C:\Program Files\MariaDB-[VERSION]\data\"</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#
# Configuration to be inserted below last row of [mysqld] section
#
sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
max_allowed_packet = 4M # must match the value used on clients for DICOM_SIZE
skip-external-locking
key_buffer_size = 16M
thread_cache_size = 64
lower_case_table_names = 1
table_open_cache = 64
tmp_table_size = 16M
read_buffer_size = 256K
read_rnd_buffer_size = 512K
join_buffer_size = 2M
sort_buffer_size = 2M
myisam_sort_buffer_size = 8M

[mysqldump]
quick
max_allowed_packet = 16M

[mysql]
no-auto-rehash

[isamchk]
key_buffer = 16M
sort_buffer_size = 16M
read_buffer = 2M
write_buffer = 2M

[myisamchk]
key_buffer = 16M
sort_buffer_size = 16M
read_buffer = 2M
write_buffer = 2M</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_2_1_3_3_mariadbmysql_networking">2.1.3.3 MariaDB/MySQL - Networking</h5>
<div class="paragraph">
<p>If deployed in a client-server, networked configuration, the database server must be configured to listen on the network interface connected to the local LAN; this can be achieved by editing the MariaDB/MySQL&#8217;s config file, <em>my.cnf</em>, and setting the "bind-address" parameter. For example, if you want the database server to listen on all the available network interfaces / IP addresses:</p>
</div>
<div class="paragraph">
<p>Change:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties"># Instead of skip-networking the default is now to listen only on
# localhost which is more compatible and is not less secure.
bind-address = 127.0.0.1</code></pre>
</div>
</div>
<div class="paragraph">
<p>To:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties"># Instead of skip-networking the default is now to listen only on
# localhost which is more compatible and is not less secure.
bind-address = 0.0.0.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this way, the database server listens on any IP address (0.0.0.0) configured on the server and can serve the connecting clients.</p>
</div>
<div class="paragraph">
<p>In is also possible to specify a specific IP address, e.g:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>bind-address = 192.168.1.100</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ohdatabase-creation">2.1.4 OH - Database creation</h4>
<div class="paragraph">
<p>To create the Open Hospital database, a MySQL client and a set of SQL script files found under the <em>sql/</em> folder are needed.</p>
</div>
<div class="paragraph">
<p>On a Microsoft Windows® system, MySQL Workbench® can be used as a client to connect to the database server and perform the needed tasks, while on Linux based systems the MySQL Administrator and MySQL Query Browser tools can be used.</p>
</div>
<div class="paragraph">
<p>The suggested approach is to use the command-line MariaDB/MySQL client which uses the same commands and syntax for every platform.</p>
</div>
<div class="paragraph">
<p>Open a terminal and navigate to the <em>sql/</em> folder (e.g.):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">C:\WINDOWS&gt; cd C:\Users\OH\OpenHospital-v1.11.4\sql

C:\Users\OH\OpenHospital-v1.11.4\sql</code></pre>
</div>
</div>
<div class="paragraph">
<p>and run the following command to connect to the database server (e.g.):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">C:\Users\OH\OpenHospital-v1.11.4\sql&gt; mysql -u root -p [-h hostname/ip address]
Enter password: *****</code></pre>
</div>
</div>
<div class="paragraph">
<p>using the ‘root’ password chosen during the installation process. The terminal should reply with the MariaDB client command line prompt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">Welcome to the MariaDB monitor.  Commands end with ; or \g.
Your MariaDB connection id is 13
Server version: 10.2.43-MariaDB MariaDB Server

Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

MariaDB [(none)]&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>now we are ready to create the database user (isf) with password, the main OH database and grant the necessary permissions with the following SQL commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">MariaDB&gt; CREATE DATABASE oh CHARACTER SET utf8;
	 CREATE USER 'isf'@'localhost' IDENTIFIED BY 'isf123';
	 CREATE USER 'isf'@'%' IDENTIFIED BY 'isf123';
	 GRANT ALL PRIVILEGES ON oh.* TO 'isf'@'localhost';
	 GRANT ALL PRIVILEGES ON oh.* TO 'isf'@'%';
MariaDB&gt; FLUSH PRIVILEGES;</code></pre>
</div>
</div>
<div class="paragraph">
<p>To check if the database has been correctly created, enter the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">MariaDB&gt; show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| oh                 |
| performance_schema |
+--------------------+</code></pre>
</div>
</div>
<div class="paragraph">
<p>The next step is to launch the main SQL database creation script with the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">MariaDB&gt; source create_all_en.sql</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The data can be installed in different languages by using the related "create_all_xx.sql" file or with demo data using the "create_all_demo.sql" file (English only).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the error message "ERROR 1148 (42000): The used command is not allowed with this MySQL version" appears the "local infile" command must be enabled on the
client by logging in again and specifying the "--local-infile=1" parameter after the "-p"; thus "mysql -u root -p --local-infile=1".
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The SQL script creates the OH database structure and populates it with default data.</p>
</div>
<div class="paragraph">
<p>The ‘isf’ user, different from the ‘root’ one, is the user that the Open Hospital software uses to connect to the database and its password must be changed immediately with the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">MariaDB&gt; SET PASSWORD FOR 'isf'@'%' = PASSWORD('new-password-here');

Query OK, 1 row affected (0.00 sec)

Rows matched: 1 Changed: 1 Warnings: 0</code></pre>
</div>
</div>
<div class="paragraph">
<p>And then:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">MariaDB&gt; FLUSH PRIVILEGES;

Query OK, 0 rows affected (0.00 sec)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">MariaDB&gt; quit;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Remember to set the updated database password also in the Open Hospital configuration files and startup scripts <strong>oh.sh / oh.ps1</strong>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="setup">2.1.5 OH - CLIENT configuration</h4>
<div class="paragraph">
<p>To set up the database connection for Open Hospital, edit and configure the database settings in the <strong>oh.sh / oh.ps1</strong> startup scripts.</p>
</div>
<div class="paragraph">
<p>Database settings are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the <strong>IP address</strong> of the the MariaDB/MySQL database server hosting the the Open Hospital database. Replace “localhost” with the server IP address (e.g., 192.168.1.100)</p>
</li>
<li>
<p>the <strong>TCP Port Number</strong> of the database server - default is “3306"</p>
</li>
<li>
<p>the <strong>Database name</strong> of the OH installation - default is "oh"</p>
</li>
<li>
<p>the <strong>Database user</strong> of the OH database - default is "isf"</p>
</li>
<li>
<p>the <strong>Database password</strong> associated with the user</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please set them according to the values specified in the installation phase:</p>
</div>
<div class="paragraph">
<p>in <strong>oh.sh / oh.ps1</strong> scripts</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$script:MYSQL_SERVER="127.0.0.1"
$script:MYSQL_PORT=3306
$script:MYSQL_ROOT_PW="tmp2021oh111"
$script:DATABASE_NAME="oh"
$script:DATABASE_USER="isf"
$script:DATABASE_PASSWORD="isf123"</code></pre>
</div>
</div>
<div class="paragraph">
<p>After you can generate the config files: on Linux execute <strong>oh.sh -g</strong>, on Windows launch <strong>oh.bat</strong> and choose the option <strong>g</strong>.</p>
</div>
<div class="paragraph">
<p><strong>Alternative method</strong>: you can first generate the config files with the <strong>-g</strong> and after directly modify the <em>database.properties</em> and <em>log4j.properties</em> configuration files, located in the <em>oh/rsc/</em> resource folder, without generating them every time.</p>
</div>
<div class="paragraph">
<p>Please set them according to the values specified in the installation phase:</p>
</div>
<div class="paragraph">
<p>in <em>database.properties</em> config file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>jdbc.url=jdbc:mysql://127.0.0.1:3306/oh
jdbc.username=isf
jdbc.password=isf123</code></pre>
</div>
</div>
<div class="paragraph">
<p>in <em>log4j.properties</em> config file</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>log4j.appender.DB.URL=jdbc:mysql://127.0.0.1:3306/oh?autoReconnect=true
log4j.appender.DB.user=isf
log4j.appender.DB.password=isf123</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These settings are required for every Open Hospital installation/client.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>More information on these files can be found in the <a href="#configuration">3. Configuration</a> section.</p>
</div>
</div>
<div class="sect3">
<h4 id="run">2.1.6 OH - Startup and run</h4>
<div class="paragraph">
<p>The Open Hospital software is now ready to be run by executing the proper launcher command:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>on a Linux machine: <strong>oh.sh -C</strong> (CLIENT mode)</p>
</li>
<li>
<p>on a Windows machine: <strong>oh.bat</strong> (Select CLIENT mode from the interactive menu)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If everything is configured correctly, the Open Hospital main splash screen is presented:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/OH-splash.png" alt="OH-splash.png" width="316" height="237"></span></p>
</div>
<div class="paragraph">
<p>And then the main Menu:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/OH-main_menu.png" alt="OH main menu"></span></p>
</div>
<div class="paragraph">
<p>It is possible to create a shortcut (link) to the executable script on the desktop, in the Programs Menu or wherever is useful by using the provided icon “oh.ico” that is found in the package.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/OH-icon.png" alt="OH-icon" width="32" height="32"></span></p>
</div>
<div class="paragraph">
<p>On Linux, it might be necessary to set the correct permissions to the <strong>oh.sh</strong> script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>chmod 755 ./oh.sh</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Remember to review your setup in the Open Hospital configuration files and startup scripts <strong>oh.sh / oh.ps1</strong>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="portable">2.2 OH - PORTABLE mode</h3>
<div class="paragraph">
<p>Open Hospital is a Java software program and it is portable by definition. The <strong>PORTABLE</strong> mode described in this chapter refers to the possibility of using OH as a self contained package that includes Java, MariaDB/MySQL Server and all the data, without requiring any software installation. The package can be used on a single computer and used everywhere just by copying a folder - even onto an USB stick - carrying together all the saved data.</p>
</div>
<div class="paragraph">
<p>Pre-configured "Portable" packages are available for Windows and Linux; see the <a href="#download">Download</a> section for more details.</p>
</div>
<div class="paragraph">
<p>Since the JRE and MariaDB/MySQL are not platform-independent and are provided in different versions and architectures, there exists:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Open Hospital - portable for Linux</strong> platforms (embedding Java JRE and MariaDB for Linux, 32 or 64bit)</p>
</li>
<li>
<p><strong>Open Hospital - portable for Windows</strong> platforms (embedding Java JRE and MariaDB for Windows, 32 or 64bit)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once the required version is downloaded, the application can be started by launching the script inside the package:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>oh.sh</strong> in the Linux version</p>
</li>
<li>
<p><strong>oh.bat</strong> in the Windows version</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>No other configuration is needed. Additional options can be shown by executing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>on Linux: <strong>oh.sh -h</strong></p>
</li>
<li>
<p>on Windows: <strong>oh.bat</strong> and choose among the available options. See <strong>oh.bat -h</strong> for legacymode help.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To use Open Hospital in PORTABLE mode for Linux from a USB key it is required that the file permissions in the
archive remain unchanged once extracted, otherwise the launcher cannot launch or use the application in an appropriate manner.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Important: the PORTABLE mode is meant to try or test the software or to be used in a facility (like a dispensary)
where only a single computer is available. If the facility is large and more clients/operators need to work on the same data, the full installation (client/server) in a networked architecture is recommended.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_running_oh_quickstart">Running OH - Quickstart</h3>
<div class="sect3">
<h4 id="_common_to_all_operating_systems_architectures">Common to all Operating Systems / architectures</h4>
<div class="ulist">
<ul>
<li>
<p>Download Open Hospital package for the desired architecture</p>
</li>
<li>
<p>Unzip/untar the package</p>
</li>
<li>
<p>Browse to the extracted folder</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_linux">Linux</h4>
<div class="ulist">
<ul>
<li>
<p>start OH by running <strong>./oh.sh</strong></p>
</li>
<li>
<p>to see available options, run <strong>./oh.sh -h</strong></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code> ---------------------------------------------------------
|                                                         |
|                   Open Hospital | OH                    |
|                                                         |
 ---------------------------------------------------------
 lang en | arch x86_64 | mode PORTABLE | log level INFO
 ---------------------------------------------------------

 Usage: oh.sh [ -l en|fr|it|es|pt ]

   -C    start OH in CLIENT mode (client / server configuration)
   -P    start OH in PORTABLE mode
   -d    start OH in debug mode
   -D    start OH with Demo data
   -g    generate configuration files
   -G    setup GSM
   -h    show this help
   -i    initialize/install OH database
   -l    set language: en|fr|it|es|pt
   -s    save OH database
   -r    restore OH database
   -t    test database connection (CLIENT mode only)
   -v    show OH software version and configuration
   -X    clean/reset OH installation</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_windows">Windows</h4>
<div class="ulist">
<ul>
<li>
<p>double click on the <strong>oh.bat</strong> batch file and choose among available options:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code> ---------------------------------------------------------
|                                                         |
|                   Open Hospital | OH                    |
|                                                         |
 ---------------------------------------------------------
 lang en | arch x86_64 | mode PORTABLE/CLIENT | log level INFO

Usage: oh.ps1 [ -lang en|fr|it|es|pt ]
              [ -mode PORTABLE|CLIENT ]
              [ -loglevel INFO|DEBUG ]
              [ -dicom on|off ]
              [ -interactive on|off ]
              [ -generate_config on|off ]


 C    start OH in CLIENT mode (client / server configuration)
 P    start OH in PORTABLE mode
 d    start OH in debug mode
 D    start OH in Demo mode
 g    generate configuration files
 G    setup GSM
 i    initialize / install OH database
 l    set language: en|fr|it|es|pt
 s    save OH database
 r    restore OH database
 t    test database connection (Client mode only)
 v    show OH software version and configuration
 X    clean/reset OH installation
 q    quit</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note: The <strong>oh.bat</strong> launches the <strong>oh.ps1</strong> startup file automatically.
The script presents the interactive menu that can be used to setup and choose how to run Open Hospital.</p>
</div>
<div class="paragraph">
<p>&#8594; To manually run <strong>oh.ps1</strong> (powershell script):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>right-click on <strong>oh.ps1</strong> &#8594; Properties &#8594; General &#8594; Security</p>
</li>
<li>
<p>select "Unblock"</p>
</li>
<li>
<p>right click on <strong>oh.ps1</strong> and select "Run with Powershell"</p>
</li>
<li>
<p>if asked for permission to execute the script select "Allow"</p>
</li>
<li>
<p>choose among available options</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It might be necessary to set the correct permissions / exclusions also in the Windows Security Center, to allow OH to communicate on
the MySQL / MariaDB local TCP port.</p>
</div>
<div class="paragraph">
<p>&#8594; To run oh.ps1 directly from command line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>powershell.exe -ExecutionPolicy Bypass -File  ./oh.ps1 [options]</code></pre>
</div>
</div>
<div class="paragraph">
<p>&#8594; To run oh.ps1 with command line options (example):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>./oh.ps1 -lang it -mode PORTABLE -loglevel DEBUG -dicom off -interactive off -generate_config on</code></pre>
</div>
</div>
<div class="sect4">
<h5 id="_windows_create_startup_shortcut">Windows - create startup shortcut</h5>
<div class="paragraph">
<p>Follow these instruction to create a Windows OH launch icon on desktop:</p>
</div>
<div class="paragraph">
<p><strong>Method 1 (with launch parameters configured in oh.ps1)</strong>
- Rigth click on Desktop
- New Shortcut
- Browse to OH folder location and select oh.bat
- Assign a name to the shortcut
- Right click on the shortcut and select Properties
- Change icon
- Specify a different file
- Browse to OH folder location and select oh.ico
- Apply</p>
</div>
<div class="paragraph">
<p><strong>Method 2 (with launch parameters stored on execution command)</strong>
- Rigth click on Desktop
- New Shortcut
- Browse to OH folder location and select oh.ps1
- Assign a name to the shortcut
- Right click on the shortcut and select Properties
- Change icon
- Specify a different file
- Browse to OH folder location and select oh.ico
- Modify Target with</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe -ExecutionPolicy Bypass -File ./oh.ps1</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Apply</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Option parameters can be added at the end of Target string separated by spaces, example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>C:\Windows\System32\WindowsPowerShell\v1.0\powershell.exe -ExecutionPolicy Bypass -File ./oh.ps1 -loglevel DEBUG</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_windows_legacy_mode">Windows - legacy mode</h5>
<div class="paragraph">
<p>It&#8217;s also possible to start Open Hospital with the legacy batch file (old oh.bat behaviour):
- open cmd.exe, browse to the OH installation directory and run <strong>.\oh.bat -legacymode</strong>
- to see available options in legacymode, run <strong>.\oh.bat -h</strong></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_options">Options</h3>
<div class="ulist">
<ul>
<li>
<p><strong>C</strong>    start Open Hospital in CLIENT mode, usually when an external database server is used (Client / Server configuration)</p>
</li>
<li>
<p><strong>P</strong>    start Open Hospital in PORTABLE mode, where data is saved locally</p>
</li>
<li>
<p><strong>d</strong>    start OH in DEBUG mode - useful to debug errors or bugs by logging more extended informations to log file</p>
</li>
<li>
<p><strong>D</strong>    start OH with Demo data - loads a demo database in order to test the software</p>
</li>
<li>
<p><strong>g</strong>    generate OH configuration files (oh/rsc/\*.properties) and exit</p>
</li>
<li>
<p><strong>G</strong>    setup GSM modem to enable sms interaction</p>
</li>
<li>
<p><strong>i</strong>    initialize / install OH database</p>
</li>
<li>
<p><strong>l</strong>    set local language: en|fr|it|es|pt</p>
</li>
<li>
<p><strong>s</strong>    save / dump the Open Hospital database in sql format</p>
</li>
<li>
<p><strong>r</strong>    restore Open Hospital database from backup or external sql file: user will be prompted for input sql file</p>
</li>
<li>
<p><strong>t</strong>    test database connection to the configured database server (Client mode only)</p>
</li>
<li>
<p><strong>v</strong>    show Open Hospital external software version and configuration</p>
</li>
<li>
<p><strong>X</strong>    clean/reset OH installation by deleting all data and configuration files &#8594; <strong>use with caution</strong> &#8592;</p>
</li>
<li>
<p><strong>q</strong>    quit (windows only)</p>
</li>
<li>
<p><strong>h</strong>    help (linux only)</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_script_configuration">Script configuration</h4>
<div class="paragraph">
<p>Some advanced options can be configured manually by editing the scripts (oh.sh and oh.ps1 - do not modify oh.bat unless legacymode is used) and setting the specific script variables.
This might also be useful to set different combinations of options (language, debug level, &#8230;&#8203;) for specific needs.</p>
</div>
<div class="sect4">
<h5 id="_oh_directory_path">OH directory path</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>############## OH general configuration - change at your own risk :-) ##############
# -&gt; OH_PATH is the directory where Open Hospital files are located
# OH_PATH="c:\Users\OH\OpenHospital\oh-1.11"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_config_file_generation">Config file generation</h5>
<div class="paragraph">
<p>It is possibile to set the GENERATE_CONFIG_FILES option to "on" to regenerate the OH configuration files at startup (this is also possibile by selecting the <strong>g</strong> script option).
The default is set to off, so the configuration files are not regenerated and overwritten at every startup. This is useful for production environment where the configuration is fixed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># set GENERATE_CONFIG_FILES=on "on" to force generation / overwriting of configuration files:
# data/conf/my.cnf and oh/rsc/*.properties files will be regenerated from the original .dist files
# with the settings defined in this script.
#
# Default is set to "off": configuration files will not be generated or overwritten if already present.
#
#GENERATE_CONFIG_FILES="off" # linux
#$script:GENERATE_CONFIG_FILES="off" # windows</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_distribution_type_client_portable">Distribution type - CLIENT | PORTABLE</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>############## OH general configuration - change at your own risk :-) ##############
OH_MODE=PORTABLE # set functioning mode to PORTABLE | CLIENT # linux
$script:OH_MODE="PORTABLE" # windows</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_demo_mode">Demo mode</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># set DEMO_DATA to on to enable demo database loading - default set to off
#
# -&gt; Warning -&gt; __requires deletion of all portable data__
#
DEMO_DATA=off # linux
#$script:DEMO_DATA="off" # windows</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_interface_and_software_language">Interface and software language:</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># Language setting - default set to en
#OH_LANGUAGE=en fr es it pt # linux
#$script:OH_LANGUAGE="en" # fr es it pt # windows</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_windows_only_enable_disable_dicom_features">(Windows only) Enable / disable DICOM features</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># enable / disable DICOM (on|off)
#$script:DICOM_ENABLE="off"</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_log_level_debug_mode">Log level / debug mode</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># set log level to INFO | DEBUG - default set to INFO
#LOG_LEVEL=INFO # linux
#$script:LOG_LEVEL="INFO" # windows</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_enable_system_wide_java">Enable system wide JAVA</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># set JAVA_BIN
# Uncomment this if you want to use system wide JAVA
#JAVA_BIN=`which java` # linux
#$script:JAVA_BIN="C:\Program Files\JAVA\bin\java.exe" # windows</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_database_and_software_configuration">Database and software configuration</h5>
<div class="paragraph">
<p>If a database server hostname/address is specified (other then localhost), OH can be started in CLIENT mode and used in a client/server / LAN environment.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>############## OH local configuration - change at your own risk :-) ##############
# Database
MYSQL_SERVER=localhost
MYSQL_PORT=3306
MYSQL_ROOT_PW="xxxxxxxxxx"
DATABASE_NAME=oh
DATABASE_USER=isf
DATABASE_PASSWORD="xxxxx"

DICOM_MAX_SIZE="4M"
DICOM_STORAGE="FileSystemDicomManager" # SqlDicomManager
DICOM_DIR="data/dicom_storage"

OH_DIR="oh"
OH_DOC_DIR="../doc"
OH_SINGLE_USER="yes" # set "no" for multiuser
CONF_DIR="data/conf"
DATA_DIR="data/db"
BACKUP_DIR="data/dump"
LOG_DIR="data/log"
SQL_DIR="sql"
TMP_DIR="tmp"

LOG_FILE=startup.log

DB_DEMO="create_all_demo.sql"
LOG_FILE=startup.log
OH_LOG_FILE=openhospital.log</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_windows_only_enable_interactive_mode">(Windows only) Enable interactive mode</h5>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code># Interactive mode
# set INTERACTIVE_MODE to "off" to launch oh.ps1 without calling the user
# interaction menu (script_menu). Useful if automatic startup of OH is needed.
# In order to use this mode, setup all the OH configuration variables in the script
# or pass arguments via command line.
$script:INTERACTIVE_MODE="on"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_default_directory_structure">Default directory structure</h3>
<div class="paragraph">
<p>The scripts takes care of creating all the needed data directories and configuration files.
Everything is also parametric and user adjustable in the scripts with variables (or via command line options).
The default folder structure is now clean, simple and <strong>common to all distros:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>/oh -&gt; Open Hospital distribution
/sql -&gt; containing the SQL creation scripts
/data/conf -&gt; configuration files for database (MariaDB / MySQL)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Created at runtime:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>/tmp
data/db
data/log
data/dicom_storage</code></pre>
</div>
</div>
<div class="paragraph">
<p>External software package downloaded at first run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Mariadb 10.2.x server
Java JRE, Zulu or OpenJDK distribution</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="paragraph">
<p>Administrator and User manuals are available in the <strong>doc</strong> folder.</p>
</div>
<div class="sect3">
<h4 id="_known_issues">Known issues</h4>
<div class="paragraph">
<p>If you experience problems in starting up the script, avoid long folder path and path with special characters / spaces in it.</p>
</div>
</div>
<div class="sect3">
<h4 id="_linux_2">Linux</h4>
<div class="ulist">
<ul>
<li>
<p>If you get one of these errors:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Error on creating OH Database error while loading shared libraries: libncurses.so.5.

Error: MySQL root password not set! Exiting</code></pre>
</div>
</div>
<div class="paragraph">
<p>You have to install the ncurses librares, on Ubuntu:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>sudo apt-get install libncurses5</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you get this error:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Error Initializing MySQL database on port 3306 error while loading shared libraries: libaio.so.1.</code></pre>
</div>
</div>
<div class="paragraph">
<p>You have to install the libaio libraries, on Ubuntu:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>sudo apt-get install libaio1</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If you select languages en-fr-it, a ICD10 patologies subset is loaded at startup, languages es-pt don&#8217;t.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_windows_2">Windows</h4>
<div class="paragraph">
<p>Powershell minimun version 5.1 is required to run oh.ps1.
To install Powershell 5.1 go to <a href="https://www.microsoft.com/en-us/download/details.aspx?id=54616" class="bare">https://www.microsoft.com/en-us/download/details.aspx?id=54616</a></p>
</div>
<div class="paragraph">
<p>Dicom functionalities are only available on 32bit JAVA environment. If DICOM is needed, 32bit jre is mandatory.
If you need DICOM on Windows 64 bit set <strong>DICOM_ENABLE="on"</strong> in the script.</p>
</div>
<div class="paragraph">
<p>If you get this error:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>+ CategoryInfo : NotSpecified: (:) [], PSSecurityException
+ FullyQualifiedErrorId : RuntimeException or UnauthorizedAccess</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Start Windows PowerShell with the "Run as Administrator" option. Only members of the Administrators group on the computer can change the execution policy.
Enable running unsigned scripts by entering:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>set-executionpolicy remotesigned</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>You might also be required to enable access on Windows Firewall to oh.ps1 and/or to the TCP port used for the local database (PORTABLE mode).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_windows_legacy_mode_2">Windows - legacy mode</h4>
<div class="paragraph">
<p>(*) If you are using oh.bat in legacy mode, you might have to download and unzip java ad mysql manually.
In order to download and unzip Java:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Visit  <a href="https://cdn.azul.com/zulu/bin/" class="bare">https://cdn.azul.com/zulu/bin/</a></p>
</li>
<li>
<p>download the <strong>JRE - .zip version</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>x86 - 32bit:</strong> <a href="https://cdn.azul.com/zulu/bin/zulu11.58.25-ca-jre11.0.16.1-win_i686.zip" class="bare">https://cdn.azul.com/zulu/bin/zulu11.58.25-ca-jre11.0.16.1-win_i686.zip</a></p>
</div>
<div class="paragraph">
<p><strong>x64 - 64bit:</strong> <a href="https://cdn.azul.com/zulu/bin/zulu11.58.23-ca-jre11.0.16.1-win_x64.zip" class="bare">https://cdn.azul.com/zulu/bin/zulu11.58.23-ca-jre11.0.16.1-win_x64.zip</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>unzip the downloaded file into the base directory where OpenHospital has been placed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In order to download and unzip mariadb:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Visit <a href="https://downloads.mariadb.org/mariadb/10.2/" class="bare">https://downloads.mariadb.org/mariadb/10.2/</a></p>
</li>
<li>
<p>Select the Operating System: <strong>Windows</strong></p>
</li>
<li>
<p>Select package type: <strong>ZIP file</strong></p>
</li>
<li>
<p>Select CPU (architecture) <strong>32 / 64</strong></p>
</li>
<li>
<p>Download the zip file:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>x86 - 32bit:</strong> <a href="https://downloads.mariadb.com/MariaDB/mariadb-10.2.41/win32-packages/mariadb-10.2.41-win32.zip" class="bare">https://downloads.mariadb.com/MariaDB/mariadb-10.2.41/win32-packages/mariadb-10.2.41-win32.zip</a></p>
</div>
<div class="paragraph">
<p><strong>x64 - 64bit:</strong> <a href="https://downloads.mariadb.com/MariaDB/mariadb-10.2.44/winx64-packages/mariadb-10.2.44-winx64.zip" class="bare">https://downloads.mariadb.com/MariaDB/mariadb-10.2.44/winx64-packages/mariadb-10.2.44-winx64.zip</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>unzip the downloaded file into the base directory where OpenHospital has been placed.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="backup-restore">2.3 Backup &amp; Restore</h3>
<div class="paragraph">
<p>Backup of the Open Hospital database can be performed in several ways.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The easiest way is to use the provided scripts: on Linux execute <strong>oh.sh -s</strong>, on Windows launch <strong>oh.bat</strong> and choose the option <strong>s</strong>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Restore of the Open Hospital database can be performed also in several ways.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The easiest way is to use the provided scripts: on Linux execute <strong>oh.sh -r</strong>, on Windows launch <strong>oh.bat</strong> and choose the option <strong>r</strong>.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="backup-data">2.3.1 Backup of database (alternative with MySQL Workbench®)</h4>
<div class="paragraph">
<p>There are several ways to back up and restore <strong>data</strong> with MySQL. The recommended method is to use a common MySQL client such as MySQL Workbench®:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click on the <strong>Administration</strong> tab on the left side of the Navigator Panel</p>
</li>
<li>
<p>Click on <strong>Data Export</strong> option</p>
</li>
<li>
<p>Select the <strong>oh</strong> schema</p>
</li>
<li>
<p>Select the required option from the dropdown below the tables list as required (the suggested option is <strong>Dump Structure and Data</strong>)</p>
</li>
<li>
<p>Click on <strong>Export to Self-Contained File</strong></p>
</li>
<li>
<p>Adjust output file location as needed</p>
</li>
<li>
<p>Select <strong>Create Dump in a Single Transaction</strong> checkbox</p>
</li>
<li>
<p>Select <strong>Include Create Schema</strong> checkbox</p>
</li>
<li>
<p>Click on the <strong>Advanced Options</strong> button and scroll down to the <strong>Inserts</strong> panel (see second image below):</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select <strong>complete-insert</strong> checkbox</p>
</li>
<li>
<p>Uncheck <strong>extended-insert</strong> checkbox</p>
</li>
<li>
<p>Return to the main panel</p>
</li>
</ol>
</div>
</li>
<li>
<p>Select the <strong>Start Export</strong> button</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image22.png" alt="image" width="642" height="461"></span></p>
</div>
<div class="paragraph">
<p><strong>Advanced Options</strong> image:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image22a.png" alt="image" width="642" height="461"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="restore-data">2.3.2 Restore of database (alternative with MySQL Workbench®)</h4>
<div class="paragraph">
<p>To restore database data with MySQL Workbench®:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Under <strong>Server Administration</strong> on the Home window select the server instance onto which the data will be restored (Create <strong>New Server Instance</strong> if doing it the first time).</p>
</li>
<li>
<p>Click on <strong>Manage Import/Export</strong></p>
</li>
<li>
<p>Click on <strong>Data Import/Restore</strong> on the left side of the screen.</p>
</li>
<li>
<p>Select <strong>Import from Self-Contained File</strong> radio button (right side of the screen)</p>
</li>
<li>
<p>Select the path and the name of the restore sql file.</p>
</li>
<li>
<p>Click the <strong>Start Import</strong> button at the right bottom corner of the window.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_2_3_3_backup_of_oh_code_and_settings">2.3.3 Backup of OH code and settings</h4>
<div class="paragraph">
<p>Backup of the Open Hospital <strong>code and settings</strong> can be performed by saving the <strong>"oh"</strong> folder (configuration files are found under the <strong>"oh/rsc"</strong> folder).</p>
</div>
<div class="paragraph">
<p>Backup of the client <strong>data files</strong>, useful for "PORTABLE" mode, can be performed by saving/copying the <strong>"data"</strong> folder (including all subfolders) found under the main OH installation path</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="folders">2.4 Folders and directory structure</h3>
<div class="paragraph">
<p>Open Hospital has a folder tree hierarchy which is shown here, where <strong><em>&lt;version&gt;</em></strong> is replaced with the current Open Hospital version, <strong><em>&lt;operating_system&gt;</em></strong> with windows or linux and <strong><em>&lt;arch&gt;</em></strong> with the OS architecture (32 or 64 bit):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>OpenHospital-<em>&lt;version&gt;</em>-&lt;operating_system&gt;_&lt;arch&gt;-&lt;client|portable&gt;</strong>/</p>
</li>
<li>
<p><strong>bundle</strong> – contains the <strong>language</strong> files</p>
</li>
<li>
<p><strong>doc</strong> – contains the Open Hospital <strong>documentation</strong></p>
</li>
<li>
<p><strong>lib</strong> – contains the Java <strong>libraries</strong> needed to run the software</p>
</li>
<li>
<p><strong>oh</strong> – contains the Open Hospital application</p>
</li>
<li>
<p><strong>oh/bin</strong> – contains the Open Hospital <strong>binaries</strong> (compiled software)</p>
</li>
<li>
<p><strong>oh/rpt</strong> – contains the JasperReports® <strong>reports</strong> used in Open Hospital</p>
</li>
<li>
<p><strong>oh/rpt/PDF</strong> – contains the reports generated by Open Hospital in PDF format</p>
</li>
<li>
<p><strong>oh/rsc</strong> – contains the <strong>resources</strong> of Open Hospital, like configuration files and other related files</p>
</li>
<li>
<p><strong>oh/rsc/icons</strong> – contains the <strong>icons</strong> used in Open Hospital for windows and buttons</p>
</li>
<li>
<p><strong>oh/rsc/images</strong> – contains the <strong>images</strong> used in Open Hospital</p>
</li>
<li>
<p><strong>data</strong> – contains the Open Hospital local data and configuration</p>
</li>
<li>
<p><strong>data/conf</strong> – contains the DBMS configuration files</p>
</li>
<li>
<p><strong>data/db</strong> – contains the database files (PORTABLE mode)</p>
</li>
<li>
<p><strong>data/logs</strong> – contains all the log files</p>
</li>
<li>
<p><strong>data/dicom</strong> – contains the dicom files</p>
</li>
<li>
<p><strong>data/dump</strong> – contains the database backups</p>
</li>
<li>
<p><strong>sql</strong> – contains the database creation scripts</p>
</li>
<li>
<p><strong>sql/extra</strong> – contains SQL scripts for custom / experimental / temporary features</p>
</li>
<li>
<p><strong>tmp</strong> – contains temporary files</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These folders may be organized differently depending on the version of the software or the architecture of the operating system.</p>
</div>
<div class="paragraph">
<p>Depending on the chosen operating system and architecture, the needed external applications and libraries (like MySQL/MariaDB and Java JRE) will be present also:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>zulu8.&lt;version&gt;-&lt;operating_system&gt;</em>&lt;arch&gt;/ - Java Virtual Machine</p>
</li>
<li>
<p><em>mariadb-&lt;version&gt;-&lt;arch&gt;/ or _mysql-&lt;version&gt;-&lt;arch&gt;-&lt;build&gt;/</em> - MySQL Server or MariaDB Server</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_2_5_appearance">2.5 Appearance</h3>
<div class="paragraph">
<p>Open Hospital main menu appearance can be customized by adding a logo of choice. To test the feature, rename the image file <em>logo_hospital_example.png</em> found in the <em>oh/rsc/images</em> folder to <em>logo_hospital.png</em>:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/OH-main_menu_logo.png" alt="OH main menu"></span></p>
</div>
<div class="paragraph">
<p>The custom logo has to be a 100x100 pixel png image file.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration">3 Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Configuration of the local Open Hospital instance (CLIENT and PORTABLE mode) is set in the configuration files called “properties files”. The following properties files are found in the <strong>oh/rsc</strong> subfolder:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>database.properties</strong> – Open Hospital database connection</p>
</li>
<li>
<p><strong>dicom.properties</strong> – DICOM viewer module options</p>
</li>
<li>
<p><strong>examination.properties</strong> – contains the settings for the ‘examination’ module</p>
</li>
<li>
<p><strong>log4j.properties</strong> – Logging system and paths</p>
</li>
<li>
<p><strong>settings.properties</strong> – Open Hospital options and settings</p>
</li>
<li>
<p><strong>sms.properties</strong> – SMS Manager module</p>
</li>
<li>
<p><strong>txtPrinter.properties</strong> – Text printing system</p>
</li>
<li>
<p><strong>xmpp.properties</strong> – Xmpp Server configuration</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Furthermore, additional configurations files (not meant to be modified by the user) are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>resolutions.xml</strong> –  stores locally the information about webcams</p>
</li>
<li>
<p><strong>version.properties</strong> – contains the current Open Hospital version</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The properties files are related only to the local instance of Open Hospital; different instances may use specific OH configuration with custom properties files.
The properties files can be generated automatically from the packaged <em>.dist</em> files by editing the configuration options available in the startup scripts <strong>oh.sh / oh.ps1</strong> and launching OH. The properties files can also be modified manually using a text editor.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Any change to these files requires an application restart to apply the modified settings.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The properties files can be automatically generated/overwritten at any Open Hospital startup, by setting the GENERATE_CONFIG_FILES option to "on" in the <strong>oh.sh / oh.ps1</strong> scripts.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following chapters will describe these properties files and their features in detail.</p>
</div>
<div class="sect2">
<h3 id="settings-properties">3.1 settings.properties</h3>
<div class="paragraph">
<p>Open Hospital general configuration is set in the <em>settings.properties</em> file.
Default configuration is available in the <em>settings.properties.dist</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties"># This file contains Open Hospital settings
LANGUAGE=OH_LANGUAGE
SINGLEUSER=yes
AUTOMATICLOT_IN=no
AUTOMATICLOT_OUT=no
AUTOMATICLOTWARD_TOWARD=no
LOTWITHCOST=yes
VISITSHEET=WardVisits
PATIENTSHEET=patient_clinical_sheet_ver3
EXAMINATIONCHART=patient_examination
OPDCHART=patient_opd_chart
ADMCHART=patient_adm_chart
DISCHART=patient_dis_chart
PATIENTBILL=PatientBill
BILLSREPORT=BillsReport
BILLSREPORTPENDING=BillsReportPending
BILLSREPORTMONTHLY=BillsReportMonthly
PHARMACEUTICALORDER=PharmaceuticalOrder
PHARMACEUTICALSTOCK=PharmaceuticalStock_ver4
PHARMACEUTICALSTOCKLOT=PharmaceuticalStock_ver5
PHARMACEUTICALAMC=PharmaceuticalAMC
PATIENTEXTENDED=yes
OPDEXTENDED=yes
MATERNITYRESTARTINJUNE=no
LABEXTENDED=yes
LABMULTIPLEINSERT=yes
INTERNALPHARMACIES=yes
MERGEFUNCTION=yes
SMSENABLED=no
INTERNALVIEWER=yes
DOC_DIR=OH_DOC_DIR
MAINMENUALWAYSONTOP=no
RECEIPTPRINTER=yes
VIDEOMODULEENABLED=yes
PATIENTVACCINEEXTENDED=yes
ENHANCEDSEARCH=no
XMPPMODULEENABLED=no
DICOMMODULEENABLED=yes
DICOMTHUMBNAILS=yes
ALLOWPRINTOPENEDBILL=yes
ALLOWMULTIPLEOPENEDBILL=yes
PATIENTBILLGROUPED=PatientBillGrouped
PATIENTBILLSTATEMENT=PatientBillStatement
DEBUG=no
USERSLISTLOGIN=no
STRONGPASSWORD=yes
STRONGLENGTH=10
PATIENTPHOTOSTORAGE=DB</code></pre>
</div>
</div>
<div class="paragraph">
<p>Every line is composed of a KEY and a value:</p>
</div>
<div class="paragraph">
<p>KEY=value</p>
</div>
<div class="paragraph">
<p>Values can be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Boolean</strong>: yes | no or true | false</p>
</li>
<li>
<p><strong>String</strong>: usually a filename or a country code (ISO 3166-1)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Use the provided startup scripts in order to automatically generate the <em>settings.properties</em> file from the corresponding <em>.dist</em> file; after generation, optionally adjust the KEY/value pair as explained in the following sections.</p>
</div>
<div class="sect3">
<h4 id="language">3.1.1 LANGUAGE</h4>
<div class="paragraph">
<p>The following table shows the allowed values for the OH_LANGUAGE variable:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Allowed Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LANGUAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">en</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ar, en, it, fr, es, de, sw</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital is available in nine different languages, identified by the international country code:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ar – Arabic</p>
</li>
<li>
<p>de - German</p>
</li>
<li>
<p>en – English</p>
</li>
<li>
<p>es – Spanish</p>
</li>
<li>
<p>fr – French</p>
</li>
<li>
<p>it – Italian</p>
</li>
<li>
<p>pt – Portuguese</p>
</li>
<li>
<p>sw – Swahili</p>
</li>
<li>
<p>zh_CN - simplified Chinese</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To change the language used in the application edit <em>settings.properties</em> and change the value of this key.
If an unknown value is set, the local computer language is applied.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The OH_LANGUAGE can be automatically generated/overwritten at any OpenHospital startup, by setting the GENERATE_CONFIG_FILES option to "on" in the  <strong>oh.sh / oh.ps1</strong> scripts.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_2_singleuser">3.1.2 SINGLEUSER</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Allowed Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SINGLEUSER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital is designed to support multi-user usage. This means that is possible to define different users, arrange them by group and set different rights in application usage; for instance, a user “receptionist” may be able to register a new patient but not to prescribe a therapy.</p>
</div>
<div class="paragraph">
<p>Open Hospital has a predefined user called “admin” that has access rights to all the features of the application.
When SINGLEUSER is set to YES (default) the program starts with this user and all the features are available.</p>
</div>
<div class="paragraph">
<p>If SINGLEUSER is set to NO the following login window appears when the program is started:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image27.png" alt="UsersListLogin.png" width="375" height="139"></span></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="#users-list-login">3.1.36 USERSLISTLOGIN</a> in this document to change the login mode.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The default password for the “admin” user is “admin”. After typing this password in the white field and pressing <strong><span class="underline">S</span>ubmit</strong>, the main <strong><em>Menu</em></strong> with the functions are enabled.</p>
</div>
<div class="paragraph">
<p>Once logged in as the “admin” user defining additional users and/or groups is possible (see the
<a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#users-groups">Users &amp; Groups</a> chapter in the User&#8217;s Guide), or just continue with a simple form of data protection.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The setting is client-side specific, this means that the login can be disabled on a specific client, but logons will still
be required on other clients, with the same defined user and group.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Data security must never be left solely to the application but it must include proper network architecture and a rigid configuration of the clients.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_3_automaticlot">3.1.3 AUTOMATICLOT</h4>
<div class="paragraph">
<p>The following table shows the default value and the alternatives for lot management:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AUTOMATICLOT_IN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AUTOMATICLOT_OUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AUTOMATICLOTWARD_TOWARD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital allows for automatic management of lots in the main pharmacy.
This means that is possible to work in the pharmacy without taking care of lot definitions in loading the store and
just specify preparation and expiring date for each charging movement
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#4-2-2-2-insert-stock-charging-movement-charge">4.2.2.2 Insert stock charging movement</a> in the User&#8217;s Guide).</p>
</div>
<div class="paragraph">
<p>For discharging movement, the lot is automatically calculated according to the nearest expiring date of lots (FEFO - First Expiring First Out). If the quantity to discharge is larger than the quantity of the first selected lot, more than one discharging operation can be generated.</p>
</div>
<div class="paragraph">
<p><em>AUTOMATIC LOTS MANAGEMENT</em> is split into two different settings for charging and discharging the main pharmacy and to manage lots also in the wards.
In this way, more control is given to the user that may want to provide all the lots' details in <em>charging operations</em> but ask the application to automatically <em>discharge</em> the nearest expiring ones (FEFO).
Similarly, in wards (see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#4-3-pharmaceuticals-stock-ward-pharmaceuticals-stock-ward">4.3 Pharmaceuticals Stock Ward</a> in the User&#8217;s Guide)
the user may decide to manage lots manually or to ask the application to do it automatically.</p>
</div>
<div class="paragraph">
<p>With <strong>AUTOMATICLOT_IN = YES</strong> the application generates a lot number automatically and only asks for an expiration date (mandatory). By default, AUTOMATICLOT_IN is set to NO. It is possible to change the value at any time.</p>
</div>
<div class="paragraph">
<p>With <strong>AUTOMATICLOT_OUT = YES</strong> the application discharges automatically the nearest expiring lot when required. By default, AUTOMATICLOT_OUT is set to NO. It is possible to change the value at any time.</p>
</div>
<div class="paragraph">
<p>With <strong>AUTOMATICLOTWARD_TOWARD = YES</strong>, the application discharges from a ward (to other wards) the nearest expiring lot automatically when required. By default, AUTOMATICLOTWARD_TOWARD is set to NO. It is possible to change the value at any time.
For discharges to patients (drug giving) the lot is <strong>never</strong> asked.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified settings.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_4_lotwithcost">3.1.4 LOTWITHCOST</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LOTWITHCOST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital allows for managing the cost of medicals in the main pharmacy
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#4-2-2-2-insert-stock-charging-movement-charge">4.2.2.2 Insert stock charging movement</a> in the User&#8217;s Guide).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_5_patientsheet">3.1.5 PATIENTSHEET</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PATIENTSHEET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">patient_clinical_sheet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any kind of .jasper file name</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can produce a report about the clinical history of a patient
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#8-9-clinical-sheet-clinical-sheet">8.9 Clinical Sheet</a> in the User’s Guide).</p>
</div>
<div class="paragraph">
<p>By default, PATIENTSHEET is set to patient_clinical_sheet, that is, the filename of the related report to use for the Clinical Sheet functionality.
It is possible to use a different report by installing it in the report folder (see <a href="#reports">Reports</a>) and by changing this parameter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_6_opdchart">3.1.6 OPDCHART</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPDCHART</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">patient_opd_chart</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any kind of .jasper file name</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can produce a report about the OPD chart of a patient
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#8-9-clinical-sheet-clinical-sheet">8.9 Clinical Sheet</a> in the User’s Guide).</p>
</div>
<div class="paragraph">
<p>By default, OPDCHART is set to patient_opd_chart which is the filename of the related report to use for the Clinical Sheet functionality <strong>OPD Chart</strong>.
It is possible to use a different report by installing it in the report folder (see <a href="#reports">Reports</a>) and by changing this parameter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_7_admchart">3.1.7 ADMCHART</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ADMCHART</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">patient_adm_chart</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any kind of .jasper file name</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can produce a report about the Admission of a patient
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#8-9-clinical-sheet-clinical-sheet">8.9 Clinical Sheet</a> in the User’s Guide).</p>
</div>
<div class="paragraph">
<p>By default, ADMCHART is set to patient_adm_chart, that is, the filename of the related report to use for the Clinical Sheet functionality <strong>Admission Chart</strong>.
It is possible to use a different report by installing it in the report folder (see <a href="#reports">Reports</a>) and by changing this parameter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_8_dischart">3.1.8 DISCHART</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DISCHART</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">patient_dis_chart</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any kind of .jasper file name</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can produce a report about the Discharge of a patient
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#8-9-clinical-sheet-clinical-sheet">8.9 Clinical Sheet</a> in the User’s Guide).</p>
</div>
<div class="paragraph">
<p>By default, DISCHART is set to patient_dis_chart which is the filename of the related report to use for the Clinical Sheet functionality <strong>Discharge Chart</strong>.
It is possible to use a different report by installing it in the report folder (see <a href="#reports">Reports</a>) and by changing this parameter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_9_patientbill">3.1.9 PATIENTBILL</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PATIENTBILL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PatientBill</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any kind of .jasper file name</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can manage patient bills and produce an A4 format breakdown with his/her items and payments
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#6-2-functions-of-accounting">6.2 Functions of Accounting</a> in the User’s Guide).</p>
</div>
<div class="paragraph">
<p>By default, PATIENTBILL is set to PatientBill, that is, the filename of the related report to use for the bill printing functionality.
It is possible to use a different report by installing it in the report folder (see <a href="#reports">Reports</a>) and by changing this parameter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_10_billsreport">3.1.10 BILLSREPORT</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BILLSREPORT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BillsReport</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any kind of .jasper file name</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can manage patient bills and produce a report about all bills paid (or not paid) within a span of time (see <strong>8.2 Functions of Accounting</strong> in the <em>User’s Guide</em>).</p>
</div>
<div class="paragraph">
<p>By default, BILLSREPORT is set to BillsReport, that is, the filename of the related report to use for the account printing functionality.
It is possible to use a different report by installing it in the report folder (see <a href="#reports">Reports</a>) and by changing this parameter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_11_billsreportmonth">3.1.11 BILLSREPORTMONTH</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BILLSREPORTMONTH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BillsReportMonth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any kind of .jasper file name</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can manage patient bills and produce a report about all bills paid (or not paid) monthly
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#6-2-functions-of-accounting">6.2 Functions of Accounting</a> in the User’s Guide).</p>
</div>
<div class="paragraph">
<p>By default, BILLSREPORTMONTH is set to BillsReportMonth, that is, the filename of the related report to use for the account printing functionality.
It is possible to use a different report by installing it in the report folder (see <a href="#reports">Reports</a>) and by changing this parameter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_12_pharmaceuticalorder">3.1.12 PHARMACEUTICALORDER</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PHARMACEUTICALORDER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PharmaceuticalOrder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any kind of .jasper file name</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can produce a report for the Pharmacy Stock critical levels which helps to identify which pharmaceuticals are running low and which ones need to be ordered
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#4-1-pharmaceuticals-pharmaceuticals">4.1 Pharmaceuticals</a> in the User’s Guide).</p>
</div>
<div class="paragraph">
<p>By default, PHARMACEUTICALORDER is set to PharmaceuticalOrder, that is the filename of the related report to use for the pharmacy printing functionality.
It is possible to use a different report by installing it in the report folder (see <a href="#reports">Reports</a>) and by changing this parameter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_13_pharmaceuticalstock">3.1.13 PHARMACEUTICALSTOCK</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PHARMACEUTICALSTOCK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PharmaceuticalStock</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any kind of .jasper file name</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can produce a report for the Pharmacy Stock Status which identifies which pharmaceuticals are currently available (see <strong>6.1 Pharmaceuticals</strong> in the <em>User’s Guide</em>).</p>
</div>
<div class="paragraph">
<p>By default, PHARMACEUTICALSTOCK is set to PharmaceuticalStock that is the filename of the related report to use for the pharmacy printing functionality.
It is possible to use a different report by installing it in the report folder (see <a href="#reports">Reports</a>) and by changing this parameter.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_14_patientextended">3.1.14 PATIENTEXTENDED</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PATIENTEXTENDED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital allows for the registration of a patient with extended or more detailed information (see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#8-4-insert-a-new-patient-extended-new-patient">8.4 Insert a new Patient Extended</a> in the User’s Guide).</p>
</div>
<div class="paragraph">
<p>By default, PATIENTEXTENDED is set to yes. It is possible to set it to no to reduce the amount of data collected and so reduce the workload for the staff involved in data entry.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_15_opdextended">3.1.15 OPDEXTENDED</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPDEXTENDED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can link every OPD visit to a registered patient to generate a comprehensive clinical history.
For each visit, the user will be asked to select a registered patient or to register a new one, so each visit is attached to the patient&#8217;s history (see <strong>5.3 OPD Extended</strong> and <strong>10.9 Clinical Sheet</strong> in the <em>User’s Guide</em>).</p>
</div>
<div class="paragraph">
<p>By default, OPDEXTENDED is set to yes.
It is possible to set it to no to reduce the amount of data to be collected (only age and sex, no patient registration) and so reduce the workload for the staff involved in data entry.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_16_maternityrestartinjune">3.1.16 MATERNITYRESTARTINJUNE</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MATERNITYRESTARTINJUNE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital allows changing the way the admissions in Maternity ward are counted within the year; in Open Hospital the first admission of the year for every ward has progressive number 1 (one) and it increments itself automatically up to the end of the year;
in some facilities, this is partially true and the progressive numbering starts from June only for the Maternity ward.
This option controls which behavior is followed.</p>
</div>
<div class="paragraph">
<p>By default, MATERNITYRESTARTINJUNE is set to no.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_17_labextended">3.1.17 LABEXTENDED</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LABEXTENDED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can force every laboratory exam to be linked to a registered patient,
to have a comprehensive clinical history. For each exam, the user will be asked to select a registered patient so from that moment the
exam will be attached to the patient&#8217;s history
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#5-3-2-new-laboratory-exam-v-2-0">5.3.2 New Laboratory Exam</a> in the User’s Guide).</p>
</div>
<div class="paragraph">
<p>By default, LABEXTENDED is set to yes. Anyway, is possible to set it to no to reduce the amount of data to be collected
(only name, age, sex, no patient registration) and so reduce the workload for the staff involved in data entry.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_18_labmultipleinsert">3.1.18 LABMULTIPLEINSERT</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LABMULTIPLEINSERT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can insert multiple laboratory tests per patient at one time to avoid the repetitive operation of selecting a patient or writing his/her name;
note that the LABEXTENDED option must also be set to yes
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#5-3-3-laboratory-multiple-insert">5.3.3 Laboratory Multiple Insert</a> in the User’s Guide).</p>
</div>
<div class="paragraph">
<p>By default, LABMULTIPLEINSERT is set to yes, but if LABEXTENDED is set to no it will be just ignored.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_19_internalpharmacies">3.1.19 INTERNALPHARMACIES</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTERNALPHARMACIES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can register all dispensing to patients within a ward. Activating this option, the Pharmaceutical Stock Ward functionality will be available in the application
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#811-merge-function-merge">Merge function</a> in the User&#8217;s Guide).</p>
</div>
<div class="paragraph">
<p>By default, INTERNALPHARMACIES is set to yes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_20_mergefunction">3.1.20 MERGEFUNCTION</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MERGEFUNCTION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can merge two patient’s histories into one.
This is particularly useful in the case of double registration where different information was collected over time.
Activating this option, the Merge functionality will be available in the Admission/Patient module
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#811-merge-function-merge">Merge function</a> in the User&#8217;s Guide).</p>
</div>
<div class="paragraph">
<p>By default, MERGEFUNCTION is set to no.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_21_internalviewer">3.1.21 INTERNALVIEWER</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTERNALVIEWER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>yes,
any executable filename in the path or with an absolute path</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can use a different PDF reader for generated reports.
If this parameter is set to yes, the Jasper PDF Viewer is used
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#92-report-launcher-launch-report">Report Launcher</a> in the User&#8217;s Guide).
If another PDF viewer is required, specify the executable&#8217;s filename; the executable must be available in the desktop environment.</p>
</div>
<div class="paragraph">
<p><strong>Example in Windows</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">INTERNALVIEWER=AcroRd32.exe

INTERNALVIEWER=C:\\Program Files (x86)\\Adobe\\Reader 10.0\\Reader\\AcroRd32.exe</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please note the double file and folder separator “<em>\\</em>”.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Example in Linux</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">INTERNALVIEWER=evince</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, INTERNALVIEWER is set to yes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_22_doc_dir">3.1.22 DOC_DIR</h4>
<div class="paragraph">
<p>The following table shows the allowed value for the DOC_DIR variable:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOC_DIR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">doc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any path</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital documentation is available <a href="https://github.com/informatici/openhospital-doc">online</a>; PDF versions of the manuals
are packaged with every OH release in a folder that must be accessible by the application; this folder might change
depending on the application version, or eventually be customized by the administrator (e.g., subfolder on the Desktop)</p>
</div>
<div class="paragraph">
<p><strong>Example in Windows</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">DOC_DIR=doc
DOC_DIR=C:\\Users\\user\\OneDrive\\Desktop\\doc</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Please note the double file and folder separator “<em>\\</em>”.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Example in Linux</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">DOC_DIR=doc
DOC_DIR=../doc</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, DOC_DIR is set to 'doc'.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The DOC_DIR setting can be automatically generated/overwritten at any OpenHospital startup, by setting the GENERATE_CONFIG_FILES option to "on" in the <strong>oh.sh / oh.ps1</strong> scripts.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_23_smsenabled">3.1.23 SMSENABLED</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SMSENABLED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can indicate whether information can be sent to patients via SMS notifications.
Enabling or disabling this option only affects the possibility to set, or not set, a therapy as notifiable
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#8-10-7-notify-sms">8.10.7 Notify &amp; SMS</a> in the User’s Guide).</p>
</div>
<div class="paragraph">
<p>By default, SMSENABLED is set to no.</p>
</div>
<div class="sect4">
<h5 id="_3_1_23_1_gsm_configuration">3.1.23.1 GSM Configuration</h5>
<div class="paragraph">
<p>To set up a GSM device, the GSM mode has to be defined in the <em>sms.properties</em> file (see <a href="#sms-properties">sms.properties</a>).</p>
</div>
<div class="paragraph">
<p>The default settings for a GSM modem should work with the majority of GSM devices (like phones, smartphones, USB modems, etc…).
The exception is the PORT parameter which must be changed to match the SERIAL port address used by the device plugged into the system.</p>
</div>
<div class="paragraph">
<p>If the PORT param is correct but Open Hospital is not able to communicate with the device (try switching to DEBUG log level – or lower - during this setup –
see <a href="#log4j-properties">log4j.properties</a>) and try to use the SetupGSM utility as explained in the next chapter.</p>
</div>
</div>
<div class="sect4">
<h5 id="_3_1_23_2_setupgsm_utility">3.1.23.2 SetupGSM utility</h5>
<div class="paragraph">
<p>To setup GSM communication it is possible to use the included SetupGSM utility and follow these instructions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Plug the device into the system and make sure the system recognizes it, loads a proper driver for it and assigns a serial port (COM)</p>
</li>
<li>
<p>Launch the OH startup script and select the the G option:</p>
<div class="ulist">
<ul>
<li>
<p>On Windows launch <strong>oh.bat</strong> &#8594; select <strong>G</strong> option</p>
</li>
<li>
<p>On linux launch <strong>oh.sh -G</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>Once the utility has started, it will scan all plugged devices and will try to recognize the modem (or phone) within them</p>
</li>
<li>
<p>If the device is recognized as a modem, a confirmation message prompt is shown:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image25.png" alt="image" width="293" height="120"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>If the identified device is the correct one, just click “yes”, otherwise click “no”, and the scan will continue</p>
</li>
<li>
<p>Once “yes” is selected the <em>sms.properties</em> file is automatically modified by the utility by inserting the proper port address.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_24_mainmenualwaysontop">3.1.24 MAINMENUALWAYSONTOP</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MAINMENUALWAYSONTOP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can keep the main menu always on top so it cannot be overlapped or hidden by other windows.</p>
</div>
<div class="paragraph">
<p>By default, MAINMENUALWAYSONTOP is set to no.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="receiptprinter">3.1.25 RECEIPTPRINTER</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RECEIPTPRINTER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can manage text or ZPL printers with aim of printing simple receipts in the Accounting module
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#6-1-2-11-print-receipt-function">6.2.1.11 Print receipt</a> function in User’s Guide).
Once this option is activated, additional parameters are needed in the <strong>txtPrinter.properties file</strong> to adjust the output with the printer connected to the system
(see <a href="#txtprinter-properties">txtPrinter.properties</a> in this document).</p>
</div>
<div class="paragraph">
<p>By default, RECEIPTPRINTER is set to no.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The text printer must be set as the default printer.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_26_videomoduleenabled">3.1.26 VIDEOMODULEENABLED</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VIDEOMODULEENABLED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can drive any webcam with the aim of capturing patient&#8217;s images in the Admission/Patient module
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#8-4-3-patient-photo-new-photo">8.4.3 Patient Photo</a> function in User’s Guide).
Once this option is activated the related button, <strong>New Photo</strong> in the <strong>New Patient</strong> window is available to start and use the webcam.</p>
</div>
<div class="paragraph">
<p>By default, VIDEOMODULEENABLED is set to no.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_27_patientvaccineextended">3.1.27 PATIENTVACCINEEXTENDED</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PATIENTVACCINEEXTENDED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can register vaccines given to patients
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#7-vaccines-patient-vaccines">7 Vaccines</a> in the User’s Guide).
This option allows toggling the patient’s full name in the <strong><em>Patient Vaccine Browser</em></strong> window.</p>
</div>
<div class="paragraph">
<p>By default, PATIENTVACCINEEXTENDED is set to yes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_28_enhancedsearch">3.1.28 ENHANCEDSEARCH</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ENHANCEDSEARCH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can optimize memory usage when the number of registered patients becomes large
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#8-2-2-search-patient-enhanced">8.2.2 Search patient Enhanced</a> in the User’s Guide).
With the enhanced search only, the patient matching a search criterion will be loaded in the memory, otherwise, all patients registered in the system will be loaded in the <strong><em>Patient Browser</em></strong> window.</p>
</div>
<div class="paragraph">
<p>By default, ENHANCEDSEARCH is set to no.
It is possible to toggle this option anytime to reduce the amount of memory needed by the computer or the server.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="xmppmoduleenabled">3.1.29 XMPPMODULEENABLED</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XMPPMODULEENABLED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital embeds a technology that allows users logged into the application to chat and share information related to the hospital activities
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#11-communication-communication">11 Communication</a> in the User’s Guide);
the SINGLEUSER option must be set to "no". If this option is active, Open Hospital will look for an XMPP Server at startup time.</p>
</div>
<div class="paragraph">
<p>See the <a href="#xmpp-properties">xmpp.properties</a> chapter for instructions on how to setup and configure the XMPP Server communication.</p>
</div>
<div class="paragraph">
<p>By default, XMPPMODULEENABLED is set to no, but if SINGLEUSER is set to yes XMPPMODULEENABLED is ignored.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_30_dicommoduleenabled">3.1.30 DICOMMODULEENABLED</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DICOMMODULEENABLED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital includes a feature that allows attaching DICOM files to a patient’s clinical sheet.
When this option is enabled, a <strong>DICOM</strong> button is shown in the patient Clinical sheet module.</p>
</div>
<div class="paragraph">
<p>By default, DICOMMODULEENABLED is set to no.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_31_dicomthumbnails">3.1.31 DICOMTHUMBNAILS</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DICOMTHUMBNAILS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can enable or disable thumbnails in the Dicom Viewer.</p>
</div>
<div class="paragraph">
<p>By default, DICOMTHUMBNAILS is set to yes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_32_debug">3.1.32 DEBUG</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DEBUG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can run in debug mode when it would be useful to understand what is happening behind the user graphical interface.
Currently, this option affects only the video module, which means that in place of the normal <strong>New Patient</strong> window
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#8-4-3-patient-photo-new-photo">8.4.3 Patient Photo</a> function in User’s Guide),
the program opens the new special window shown below:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image26.png" alt="New Patient Extended_photo_debug.png" width="645" height="535"></span></p>
</div>
<div class="paragraph">
<p>From this window is possible to have more information about webcams connected to the system.
It is possible to apply different resolutions in order to find the best setting or get information about a problem.</p>
</div>
<div class="paragraph">
<p>Once a photo is produced, Open Hospital remembers the settings and uses them in the future.</p>
</div>
<div class="paragraph">
<p>By default, DEBUG is set to no.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_33_allowmultipleopenedbill">3.1.33 ALLOWMULTIPLEOPENEDBILL</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALLOWMULTIPLEOPENEDBILL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital allows a patient to have multiple open bills (invoices).
If this option is enabled, when creating a new bill for a patient, if that patient already has an open bill
the user is asked to confirm the creation of another one.</p>
</div>
<div class="paragraph">
<p>By default, ALLOWMULTIPLEOPENEDBILL is set to no.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_34_openedbillsreport">3.1.34 OPENEDBILLSREPORT</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPENEDBILLSREPORT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OH023_BillsReportMonth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OH023_BillsReportMonth</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can print the list of open bills.
The parameter contains the jasper report file name to print the list of open bills.</p>
</div>
<div class="paragraph">
<p>By default, OPENEDBILLSREPORT is set to OH023_BillsReportMonth.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_35_allowprintopenedbill">3.1.35 ALLOWPRINTOPENEDBILL</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALLOWPRINTOPENEDBILL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can print the receipt of a single open invoice.
When the parameter is enabled, in the Accounting module under the pending tab one can select an open bill and
get the receipt by clicking the Receipt button in the buttons panel.</p>
</div>
<div class="paragraph">
<p>By default, ALLOWPRINTOPENEDBILL is set to no.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="users-list-login">3.1.36 USERSLISTLOGIN</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Allowed Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">USERSLISTLOGIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When Open Hospital is used in multi-user mode, i.e. SINGLEUSER = no, it is possible to choose between two different login modes:</p>
</div>
<div class="paragraph">
<p>(1) by typing the username directly in a textbox, if USERSLISTLOGIN is set to NO (default):</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image27.png" alt="UsersListLogin.png" width="375" height="139"></span></p>
</div>
<div class="paragraph">
<p>(2) by selecting the username from a list of users, if USERSLISTLOGIN is set to YES:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image24.png" alt="Login.png" width="375" height="139"></span></p>
</div>
<div class="paragraph">
<p>By default, USERSLISTLOGIN is set to no.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="strongpasword">3.1.37 STRONGPASSWORD</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Allowed Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">STRONGPASSWORD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes, no</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>By default, the value of STRONGPASSWORD is the set to yes indicating that the
password must contain at least one alphabetic, numeric, and special character.
The list of recognized special characters is: <strong>_$&amp;+,:;=\?@#|/'&lt;&gt;.^</strong>()%!-*</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="stronglength">3.1.38 STRONGLENGTH</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Allowed Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">STRONGLENGTH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">positive integer value</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The value of STRONGLENGTH is the minimum length of a user&#8217;s password.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_3_1_39_patientphotostorage">3.1.39 PATIENTPHOTOSTORAGE</h4>
<div class="paragraph">
<p>The following table shows the default value and the allowed ones:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Valid Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PATIENTPHOTOSTORAGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DB, <em>&lt;path_to_folder&gt;</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Open Hospital can save the user&#8217;s profile picture in the database or on the file system.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The maximum size for patient&#8217;s profile picture is limited to 4096 bytes. If a bigger image is provided, it will automatically resized.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the PATIENTPHOTOSTORAGE parameter is set to a path (that is, not "DB"), then Open Hospital looks for or saves the patient&#8217;s profile picture in the specified path.</p>
</div>
<div class="paragraph">
<p>If the PATIENTPHOTOSTORAGE parameter is set to "DB", then Open Hospital looks for or saves the patient&#8217;s profile picture in the Open Hospital database.</p>
</div>
<div class="paragraph">
<p>By default, PATIENTPHOTOSTORAGE is set to "DB".</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="database-properties">3.2 database.properties</h3>
<div class="paragraph">
<p>Database configuration is set in the <em>database.properties</em> file.
Default database configuration is available in the <em>database.properties.dist</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">jdbc.url=jdbc:mysql://DBSERVER:DBPORT/DBNAME
jdbc.username=DBUSER
jdbc.password=DBPASS</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use the provided startup scripts in order to automatically generate the <em>database.properties</em> file from the corresponding <em>.dist</em> file; after generation, optionally adjust the following parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>DBSERVER</strong>: the IP address of the OH database server.
IP address can be set to:<br>
<em>127.0.0.1</em> – localhost / loopback network interface (local computer)<br>
<em>192.168.0.100</em> – an example of a private IP address (LAN)<br>
<em>217.147.110.117</em> – an example of a public IP address (WAN)</p>
</li>
<li>
<p><strong>DBPORT</strong>: the TCP port of the OH database server - default is "3306"</p>
</li>
<li>
<p><strong>DBNAME</strong>: the database name - default is "oh"</p>
</li>
<li>
<p><strong>DBUSER</strong>: the database user - default is "isf"</p>
</li>
<li>
<p><strong>DBPASS</strong>: the database user password</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The same settings must be applied in <em>log4.properties</em>, see
<a href="#log4j-properties">log4j.properties</a> in this manual.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <em>database.properties</em> file can be automatically generated/overwritten at any Open Hospital startup, by setting the GENERATE_CONFIG_FILES option to "on" in the <strong>oh.sh / oh.ps1</strong> scripts.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_3_3_dicom_properties">3.3 dicom.properties</h3>
<div class="paragraph">
<p>DICOM configuration is set in the <em>dicom.properties</em> file.
Default DICOM configuration is available in the <em>dicom.properties.dist</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">#dicom.manager.impl=org.isf.dicom.manager.FileSystemDicomManager        # filesystem storage
#dicom.manager.impl=org.isf.dicom.manager.SqlDicomManager               # database storage
#dicom.max.size=1024B, 2048B, 1M, 16M, 256M, 512M, 1024M, 1G            # image size examples
dicom.manager.impl=org.isf.dicom.manager.DICOM_STORAGE
dicom.storage.filesystem=OH_PATH_SUBSTITUTE/DICOM_DIR
dicom.max.size=DICOM_SIZE</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use the provided startup scripts in order to automatically generate the <em>dicom.properties</em> file from the corresponding <em>.dist</em> file; after generation, optionally adjust the following parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>DICOM_STORAGE</strong>: This property accepts one of the following:</p>
<div class="ulist">
<ul>
<li>
<p>SqlDicomManager: DICOM files are stored in the database</p>
</li>
<li>
<p>FileSystemDicomManager: DICOM files are stored in the file system</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>OH_PATH_SUBSTITUTE/DICOM_DIR</strong>: if the value of the first parameter is set to "FileSystemDicomManager",
this property specifies the path where the DICOM files are stored. It is possible to specify a local folder (<em>data/dicom_storage</em> is the default path under the OH installation folder) or to set a shared network folder, useful for LAN - client/server environment. Suggested configuration is to map the network/NFS folder under the <em>data/dicom_storage</em> path with a symbolic link.
The shared folder needs read/write permissions for uploading DICOM images. Always use slash "/" in the path variable and not backslash "\".</p>
</li>
<li>
<p><strong>DICOM_SIZE</strong>: maximum allowed size for a dicom/jpg image (the MariaDB/MySQL server setting max_allowed_packet should be set with the same or a larger value).
If not specified the default value of "4M" is used.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example <em>dicom.properties</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">dicom.manager.impl=org.isf.dicom.manager.FileSystemDicomManager
dicom.storage.filesystem=Z:/OH/Shared/Dicom_images
dicom.max.size=4M</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <em>dicom.properties</em> file can be automatically generated/overwritten at any <strong>oh.sh / oh.ps1</strong>  startup, by setting the GENERATE_CONFIG_FILES option to "on" in the <strong>oh.sh / oh.ps1</strong> scripts.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_3_4_examination_properties">3.4 examination.properties</h3>
<div class="paragraph">
<p>Examination module configuration is set in the <em>examination.properties</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties"># This file contains PatientExamination module settings
LIST_SIZE = 10
HEIGHT_MIN = 0
HEIGHT_MAX = 250
HEIGHT_INIT = 0
#HEIGHT_STEP = 1
#WEIGHT_UNIT = kg
WEIGHT_MIN = 0
WEIGHT_MAX = 200
WEIGHT_INIT = 0
WEIGHT_STEP = 0.1
#AP_UNIT = mmHg
AP_MIN_INIT = 80
AP_MAX_INIT = 120
#HR_UNIT = bpm
HR_MIN = 0
HR_MAX = 240
HR_INIT = 60
#TEMP_UNIT = *C
TEMP_INIT = 36
TEMP_MIN = 30
TEMP_MAX = 50
TEMP_STEP = 0.1
#SAT_UNIT = %
SAT_INIT = 98
SAT_MIN = 50
#SAT_MAX = 100
SAT_STEP = 0.1
HGT_MIN = 30
HGT_MAX = 600
HGT_INIT = 80
DIURESIS_MIN = 0
DIURESIS_MAX = 2500
DIURESIS_INIT = 100
RR_INIT = 20
RR_MIN = 0
RR_MAX = 100</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>LIST_SIZE</strong>: the maximum number of examinations that can be viewed in the history. Must be less than or equal to 10</p>
</li>
<li>
<p><strong>HEIGHT_MIN</strong>: the height minimum value (in cm), used to initialize the height slider in the <strong><em>Patient Examination</em></strong> window</p>
</li>
<li>
<p><strong>HEIGHT_MAX</strong>: the height maximum value (in cm), used to initialize the height slider in the <strong><em>Patient Examination</em></strong> window</p>
</li>
<li>
<p><strong>HEIGHT_INIT</strong>: the height default value (in cm)</p>
</li>
<li>
<p><strong>WEIGHT <em>MIN</strong>: the weight minimum value (in Kg), used to initialize the Weight slider in the <strong>_Patient Examination</em></strong> window</p>
</li>
<li>
<p><strong>WEIGHT <em>MAX</strong>: the weight maximum value (in Kg), used to initialize the Weight slider in the <strong>_Patient Examination</em></strong> window</p>
</li>
<li>
<p><strong>WEIGHT _INIT</strong>: the weight default value (in Kg)</p>
</li>
<li>
<p><strong>WEIGHT _STEP</strong>: the step (in Kg) used when moving the weight slider</p>
</li>
<li>
<p><strong>AP _MIN</strong>: the Arterial pressure minimum value (in mmHg)</p>
</li>
<li>
<p><strong>AP _MAX</strong>: the Arterial pressure maximum value (in mmHg)</p>
</li>
<li>
<p><strong>HR _MIN</strong>: the Heart rate minimum value (in bmp)</p>
</li>
<li>
<p><strong>HR _MAX</strong>: the Heart rate maximum value (in bmp)</p>
</li>
<li>
<p><strong>HR _INIT</strong>: the Heart rate default value (in bmp)</p>
</li>
<li>
<p><strong>TEMP _INIT</strong>: the temperature default value (in °C)</p>
</li>
<li>
<p><strong>TEMP _MIN</strong>: the temperature minimum value (in °C)</p>
</li>
<li>
<p><strong>TEMP _MAX</strong>: the temperature maximum value (in °C)</p>
</li>
<li>
<p><strong>TEMP _STEP</strong>: the temperature step (in °C) used when moving the slider</p>
</li>
<li>
<p><strong>SAT _INIT</strong>: the saturation default value (%)</p>
</li>
<li>
<p><strong>SAT _MIN</strong>: the saturation minimum value (%)</p>
</li>
<li>
<p><strong>SAT _STEP</strong>: the saturation step (%) used when moving the slider</p>
</li>
<li>
<p><strong>HGT_INIT</strong>: = the Hemo Glucose Test default value (in mg/dl)</p>
</li>
<li>
<p><strong>DIURESIS_INIT</strong>: = the Daily Urine Volume default value (in ml)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="log4j-properties">3.5 log4j.properties</h3>
<div class="paragraph">
<p>Logging configuration is set in the <em>log4j.properties</em> file.
Default logging configuration is available in the <em>log4j.properties.dist</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties"># global logging to RollingFile (logs/ folder), available levels INFO, DEBUG, FINEST (debug++)
log4j.rootCategory=INFO,RollingFile

# Null appender (off)
log4j.appender.null=org.apache.log4j.varia.NullAppender

# StdOut Appender (with classes) (not used)
log4j.appender.StdOut = org.apache.log4j.ConsoleAppender
log4j.appender.StdOut.layout=org.apache.log4j.PatternLayout
log4j.appender.StdOut.layout.ConversionPattern=[%d{dd/MMM/yyyy HH:mm:ss}] [%X{OHUserGroup}:%X{OHUser}] %-p - %m%n

# File Appender (with classes), daily rotation
log4j.appender.RollingFile = org.apache.log4j.DailyRollingFileAppender
log4j.appender.RollingFile.DatePattern='.'yyyy-MM-dd
log4j.appender.RollingFile.File=LOG_DEST
log4j.appender.RollingFile.layout=org.apache.log4j.PatternLayout
log4j.appender.RollingFile.layout.ConversionPattern=[%d{dd/MMM/yyyy HH:mm:ss}] [%X{OHUserGroup}:%X{OHUser}] %-p - %m (%l)%n

# DB Appender (table columns)
log4j.appender.DB=org.apache.log4j.jdbc.JDBCAppender
log4j.appender.DB.URL=jdbc:mysql://DBSERVER:DBPORT/DBNAME?autoReconnect=true
log4j.appender.DB.user=DBUSER
log4j.appender.DB.password=DBPASS
log4j.appender.DB.sql=INSERT INTO LOG (LOG_TYPE, LOG_CLASS, LOG_METHOD, LOG_TIME, LOG_MESS, LOG_USER) VALUES (1, '%C', '%M', '%d{yyyy-MM-dd HH:mm:ss}', LEFT('%m', 1024), '%X{OHUser}')
log4j.appender.DB.layout=org.apache.log4j.PatternLayout

# Security settings - see log4j CVE-2021-44228
log4j.formatMsgNoLookups=true

# Assigning appenders to packages (application loggers)
log4j.category.org.isf=LOG_LEVEL,RollingFile
log4j.additivity.org.isf = false

# Assigning appenders to Hibernate packages (DB loggers)
# - hibernate.SQL to DEBUG for SQL queries to be logged
# - hibernate.type to TRACE for queries parameters to be logged with "binding parameter [?]"
log4j.logger.org.hibernate=LOG_LEVEL,RollingFile,StdOut
#log4j.logger.org.hibernate.SQL=INFO,RollingFile,StdOut</code></pre>
</div>
</div>
<div class="paragraph">
<p>Use the provided OH startup scripts in order to automatically generate the <em>log4j.properties</em> file from the corresponding <em>.dist</em> file; after generation, optionally adjust the following parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>DBSERVER</strong>: the IP address of the OH database server.
IP address can be set to:<br>
<em>127.0.0.1</em> – localhost / loopback network<br>
<em>192.168.0.100</em> – an example of a private IP address (LAN)<br>
<em>217.147.110.117</em> – an example of a public IP address (WAN)</p>
</li>
<li>
<p><strong>DBPORT</strong>: the TCP port of the OH database server - default is "3306"</p>
</li>
<li>
<p><strong>DBNAME</strong>: the database name - default is "oh"</p>
</li>
<li>
<p><strong>DBUSER</strong>: the database user - default is "isf"</p>
</li>
<li>
<p><strong>DBPASS</strong>: the database user password</p>
</li>
<li>
<p><strong>LOG_LEVEL</strong>: the OH application log level - can be set to  INFO|DEBUG|TRACE</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The same settings must be applied in the <em>database.properties</em> configuration file, see
<a href="#database-properties">database.properties</a> in this manual.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">log4j.category.org.isf=INFO,RollingFile</code></pre>
</div>
</div>
<div class="paragraph">
<p>To investigate bugs or issues, the log level can be increased to "TRACE" in order to log more detailed information:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">log4j.category.org.isf=TRACE,RollingFile</code></pre>
</div>
</div>
<div class="paragraph">
<p>Logging can be routed to the database (DB) by adding the respective <strong>appender</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">log4j.category.org.isf=INFO,RollingFile,DB</code></pre>
</div>
</div>
<div class="paragraph">
<p>Logging can also be routed to standard output (the console window) with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">log4j.category.org.isf=INFO,RollingFile,StdOut</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the DB appender is specified, the configuration must be set to match the settings in the <em>database.properties</em> file
(see <a href="#database-properties">database.properties</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <em>log4j.properties</em> file can be automatically generated/overwritten at any Open Hospital startup, by setting the GENERATE_CONFIG_FILES option to "on" in the <strong>oh.sh / oh.ps1</strong> scripts.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
DEBUG mode can generate large log files and should be avoided in production environment.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="sms-properties">3.6 sms.properties</h3>
<div class="paragraph">
<p>SMS communication module configuration is set in the <em>sms.properties</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">##################################################################
# Global configuration
##################################################################
# use: gsm-gateway-service || skebby-gateway-service || textbelt-gateway-service
sms.gateway=textbelt-gateway-service
sms.gateway.thread.timeout=3000
sms.gateway.thread.loop=15
sms.gateway.thread.icc=+39

... other sections</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>sms.gateway</strong>: the SMS sender mode. Can take three values:</p>
<div class="ulist">
<ul>
<li>
<p><strong>gsm-gateway-service</strong>: requires a GSM modem connected to a COM port. The administrator should configure the SMSGateway/GSM.properties file to set the suitable PORT.</p>
</li>
<li>
<p><strong>skebby-gateway-service</strong>: requires a Skebby provider account.</p>
</li>
<li>
<p><strong>textbelt-gateway-service</strong>: requires a Textbelt provider account.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>TIMEOUT</strong>: the timeout for the HTTP request. Required when sms.gateway is set to skebby-gateway-service or textbelt-gateway-service.</p>
</li>
<li>
<p><strong>LOOP</strong>: the delay used by the sender to fetch new SMS operations. The value is in seconds.</p>
</li>
<li>
<p><strong>ICC</strong>: the International Country Code that needs to be added to the phone numbers (if missing).</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_3_6_1_skebby_gateway_service">3.6.1 skebby-gateway-service</h4>
<div class="paragraph">
<p>The default skebby-gateway-service section is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">##################################################################
# Skebby configuration
##################################################################
skebby-gateway-service.username=
skebby-gateway-service.password=
skebby-gateway-service.ribbon.base-url=https://api.skebby.it:443
# USER_KEY and ACCESS_TOKEN avoids the login call every time we need to send sms
skebby-gateway-service.accessToken=
skebby-gateway-service.userKey=</code></pre>
</div>
</div>
<div class="paragraph">
<p>This file defines the parameters for sending SMS using the Skebby HTTP API.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>username</strong>: the username for authenticating to the Skebby server.</p>
</li>
<li>
<p><strong>password</strong>: the password for authenticating to the Skebby server.</p>
</li>
<li>
<p><strong>ribbon.base-url</strong>: the URL of the Skebby HTTP API.</p>
</li>
<li>
<p><strong>accessToken</strong>: the token generated by the Skebby provider upon user request (it replaces username)</p>
</li>
<li>
<p><strong>userKey</strong>: the key generated by the Skebby provider upon user request (it replaces password)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_3_6_2_textbelt_gateway_service">3.6.2 textbelt-gateway-service</h4>
<div class="paragraph">
<p>The default textbelt-gateway-service section is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties">##################################################################
# Textbelt configuration
##################################################################
# enables/disables server testing mode (so that textbelt will do fake actions)
textbelt-gateway-service.enable-testing-mode=false
# use: textbelt (in order to send 1 free sms per day) or your api key (if you purchased sms)
textbelt-gateway-service.key=textbelt
textbelt-gateway-service.ribbon.base-url=https://textbelt.com:443</code></pre>
</div>
</div>
<div class="paragraph">
<p>This file defines the parameters for sending SMS using the Skebby HTTP API.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>enable-testing-mode</strong>: if set to "true", textbelt will do fake actions upon user/application requests.</p>
</li>
<li>
<p><strong>key</strong>: the API key (if using a  purchased sms) from Textbelt provider (one can use "textbelt" to send 1 free sms per day)</p>
</li>
<li>
<p><strong>ribbon.base-url</strong>: The URL of the Textbelt HTTP API.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="txtprinter-properties">3.7 txtPrinter.properties</h3>
<div class="paragraph">
<p>Text printer configuration is set in the <em>txtPrinter.properties</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties"># This file contains text printing information
# MODE = TXT, PDF or ZPL
USE_DEFAULT_PRINTER=yes
PRINT_AS_PAID=no
PRINT_WITHOUT_ASK=no
MODE=PDF
#TXT_CHAR_HEIGHT=10
#TXT_CHAR_WIDTH=10
ZPL_FONT_TYPE=0
ZPL_ROW_HEIGHT=25</code></pre>
</div>
</div>
<div class="paragraph">
<p>This file is used only if the RECEIPTPRINTER flag is enabled (see <a href="#receiptprinter">RECEIPTPRINTER</a> in this document).</p>
</div>
<div class="paragraph">
<p>The file has the following configurable parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>USE_DEFAULT_PRINTER</strong>: If it is set to <em>yes</em>, Open Hospital will use the default printer, otherwise it will show the system
printing dialog allowing a change to the printer at every print attempt:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image42.png" alt="image" width="291" height="245"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>PRINT_AS_PAID</strong>: This changes the behavior when a Bill is set to PAID in the Accounting module
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#6-1-2-11-print-receipt-function">6.2.1.11 Print receipt</a> function in User’s Guide).<br></p>
<div class="ulist">
<ul>
<li>
<p>If it is set to <em>yes</em>, Open Hospital will try to print a receipt just after a Bill is set to PAID<br></p>
<div class="ulist">
<ul>
<li>
<p>A confirmation window will appear (see below), otherwise, it must be done after, by pressing the <strong><span class="underline">E</span>dit Bill</strong> button on the already closed (“C”) bill</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image43.png" alt="Accountin_print_as_paid"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>PRINT_WITHOUT_ASK</strong>: if set to yes Open Hospital will try to print the receipt without the confirmation window</p>
</li>
<li>
<p><strong>MODE</strong>: the MODE can take three values:</p>
<div class="ulist">
<ul>
<li>
<p><strong>TXT</strong>: the bill is printed as pure text (no graphics)</p>
</li>
<li>
<p><strong>PDF</strong>: the bill will be printed as a PDF</p>
</li>
<li>
<p><strong>ZPL</strong>: the text printer connected to the system works with ZPL language (an EPL evolution for Zebra Label Printer)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>ZPL_FONT_TYPE</strong>: a 0 (zero) value stands for a standard character; the value can be changed to “A”, “B”, “C”, etc. according to the device datasheet, to obtain a better look</p>
</li>
<li>
<p><strong>ZPL_FONT_SIZE</strong>: an integer value to adjust the character size to obtain a better look</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The best way to set these parameters for the device is to set them one by one and check the different results until the best fit is reached.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="xmpp-properties">3.8 xmpp.properties</h3>
<div class="paragraph">
<p>XMPP module configuration is set in the the <em>xmpp.properties</em> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-properties" data-lang="properties"># This file contains Xmpp Server information
DOMAIN=127.0.0.1
PORT=5222</code></pre>
</div>
</div>
<div class="paragraph">
<p>This file is used only if the XMPPMODULEENABLED flag is enabled (see <a href="#xmppmoduleenabled">XMPPMODULEENABLED</a> in this document).</p>
</div>
<div class="paragraph">
<p>To use the Communication module
(see <a href="https://github.com/informatici/openhospital-doc/blob/develop/doc_user/UserManual.adoc#11-communication-communication">11 Communication</a> in the User’s Guide),
an XMPP Server must be installed and configured separately on a server/computer in the local network. The XMPP server can also be installed on the same machine as the OH database server.</p>
</div>
<div class="paragraph">
<p>The most common XMPP Server is the free and open-source project Ignite Openfire® (<a href="http://www.igniterealtime.org/projects/openfire/" class="bare">http://www.igniterealtime.org/projects/openfire/</a>) available for Linux, Windows, and Mac.</p>
</div>
<div class="paragraph">
<p>Once the XMPP Server is installed, active and running set the two parameters in the <em>xmpp.properties</em> file as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>DOMAIN</strong> – the IP address of the XMPP server (it could be the same as the database server)</p>
</li>
<li>
<p><strong>PORT</strong> – 5222 or another if set differently</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An application restart is required to apply the modified setting.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_3_8_1_openfire_settings">3.8.1 OpenFire Settings</h4>
<div class="paragraph">
<p>The XMPP module needs some knowledge about the XMPP protocol and how an XMPP server works.</p>
</div>
<div class="paragraph">
<p>Every new user login into Open Hospital creates an OpenFire user with the same username and password (even if passwords are saved
differently in OH and OpenFire DB). For this reason, the OH "admin" user may conflict with the OpenFire user, not allowing the log in as admin and to chat.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the admin user needs to chat with other users consider creating another "superuser" in OH
under the "admin" group.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To allow users to see each other and communicate via XMPP protocol, they must belong to the same OpenFire "group" and have the other users in their own "<em>roster</em>" (find more comprehensive information about "group" and "roster" in the online documentation).</p>
</div>
<div class="paragraph">
<p>Please follow these settings:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install OpenFire server (better if from the zip file) on a writable path</p>
</li>
<li>
<p>Set in both OpenFire and in the <em>xmpp.properties</em> file an IP address rather than the FQDN (e.g., 127.0.0.1)</p>
</li>
<li>
<p>Set OpenFire to use Embedded DB</p>
</li>
<li>
<p>Create a group "OH" in the OpenFire server and enable the "Contact List (Roster) Sharing"</p>
</li>
<li>
<p>Add new users automatically created from OH to the "OH" group</p>
</li>
<li>
<p>Consideration should be given to using the OpenFire plugin to automatically add new users to a group (e.g., registration plugin <a href="http://www.igniterealtime.org/projects/openfire/plugins/registration.jar" class="bare">http://www.igniterealtime.org/projects/openfire/plugins/registration.jar</a>)</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_3_9_bundles">3.9 Bundles</h3>
<div class="paragraph">
<p>Bundles are the language (or translation) files provided with Open Hospital. As described in the
<a href="#language">LANGUAGE</a> chapter, Open Hospital comes with different available languages in the folder <strong>bundles/</strong> within the package file:</p>
</div>
<div class="paragraph">
<p><strong>language_XY.properties</strong></p>
</div>
<div class="paragraph">
<p>where XY is an international country code.</p>
</div>
<div class="paragraph">
<p>These property files (text format) contain multiple <strong>key = value</strong> pairs containing localized text for the language specified.</p>
</div>
<div class="paragraph">
<p>All files must be encoded in <strong>UTF-8</strong> to accept any language-specific characters (e.g. è ì ò à ñ ú ù ¡ ¿ &#8230;&#8203;).</p>
</div>
<div class="sect3">
<h4 id="_3_9_1_new_translations">3.9.1 New Translations</h4>
<div class="paragraph">
<p>To create a new translation, simply copy the English file, rename it with the new country code in
place of the “XY” in the filename, and start translating with a simple text editor. A text editor can also be used to modify
existing translations that are incorrect.</p>
</div>
<div class="paragraph">
<p>For instance, if to create an Arabic translation, copy a new bundle from the English one by copying <em>language_en.properties</em> to a <strong>new file</strong> <em>language_ar.properties</em>.</p>
</div>
<div class="paragraph">
<p>Then edit the Arabic bundle file and set the LANGUAGE parameter to <strong>ar</strong> to start testing the translation.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="reports">4 Reports</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Reports in Open Hospital are produced with JasperReports® technology that allows one to design a report in a WYSIWYG (What You See Is What You Get) way, connect it to a datasource (DB), test it, modify it, and then compile it to use it in the application software.</p>
</div>
<div class="paragraph">
<p>Open Hospital reports are all contained in reports rpt/ folder (see <a href="#folders">Folders</a> in this document). Each report consists of two files:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a .<strong>jrxml</strong> file: JasperReport XML file, that can be modified with a proper editor</p>
</li>
<li>
<p>a .<strong>jasper</strong> file: Jasper file, that is the compiled version that can be run in Open Hospital; this file is produced on the jrxml base</p>
</li>
<li>
<p>some reports could have also one or more <strong>.properties</strong> file that works for the localization, it means that the report has been translated to appear in more languages (default is English)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The editor to create and modify JasperReports® is <a href="https://sourceforge.net/projects/jasperstudio/">TIBCO Jaspersoft® Studio</a> version 6.14.0 or later, a free and open-source software.</p>
</div>
<div class="paragraph">
<p>With Jaspersoft® Studio it is possible to edit Open Hospital reports and re-compile them in the same location to be found and used by the Open Hospital application.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_5_installing_open_hospital_1_11_4_in_eclipse_ee">5 Installing Open Hospital 1.11.4 in Eclipse EE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The OH source code is available on GitHub at the following links:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/informatici/openhospital-core/tree/v1.11.4">openhospital-core</a></p>
</li>
<li>
<p><a href="https://github.com/informatici/openhospital-gui/tree/v1.11.4">openhospital-gui</a></p>
</li>
<li>
<p><a href="https://github.com/informatici/openhospital-doc/tree/v1.11.4">openhospital-doc</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Please use EGit (Eclipse Plugin for Git) to clone the code into the Eclipse instance.</em></p>
</div>
<div class="paragraph">
<p>Assuming Eclipse EE, MariaDB/MySQL and the Java Virtual Machine 1.8 or higher (Java8 or greater)
are already installed on the computer, this chapter will focus on cloning version 1.11.4 into the Eclipse J2EE (or Eclipse EE)
environment.</p>
</div>
<div class="paragraph">
<p>Please follow these
<a href="https://wiki.eclipse.org/EGit/User_Guide#Working_with_remote_Repositories">EGit User Guide - Working with remote Repositories</a>.</p>
</div>
<div class="sect2">
<h3 id="_5_1_run_the_project">5.1 Run the Project</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Before running the project, the DB must be created as explained in
chapter <a href="#database-server">MySQL Server and Open Hospital DB</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To run the application, look for class <em>openhospital-gui/src/main/java/org/isf/menu/gui/Menu.java</em>, then right-click on it and choose <em>Run As &#8594; Java Application</em>. If everything is OK, the splash screen will appear. If not, look in the Eclipse console for any error or warning messages.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/OH-splash.png" alt="image" width="390" height="298"></span></p>
</div>
<div class="paragraph">
<p>Open Hospital’s advanced features require “native” libraries generated to match the computer’s operating system. Right-click on the project’s name, then select <em>Run As &#8594; Run Configurations</em>:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image62.png" alt="image" width="604" height="377"></span></p>
</div>
<div class="paragraph">
<p>A “Run Configurations” window opens. Choose Java Application &#8594; &lt;application’s name&gt; - Menu (1) on this example. Select the “Main” tab, write “angal” on the “Project” field and check if the “Main class” is org.isf.menu.gui.Menu.</p>
</div>
<div class="paragraph">
<p>Select the “Arguments” tab and fill the “VM arguments” path typing (on a single line):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>-Dsun.java2d.dpiaware=false -Djava.library.path=lib\native\&lt;OS name&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>&lt;OS name&gt; can be “Mac_OS_X”, “Solaris”, “Linux”, “Win64” (for 64-bit Windows) or “Windows” (for 32-bit Windows)
according to the folder&#8217;s schema found in the related folder “native”.
Click on “Run” to close the window and run the application.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image63.png" alt="image" width="604" height="337"></span></p>
</div>
<div class="paragraph">
<p>Now that the run configuration settings have been selected, OH can be launched by just clicking on the “Run” button (shown below by an arrow).</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image64.png" alt="image" width="604" height="377"></span><br>
<span class="image"><img src="media/image65.png" alt="image" width="604" height="377"></span></p>
</div>
<div class="paragraph">
<p>Because of the default settings, Open Hospital’s first run does not show the login window. The system defaults to “single-user” mode
by default. This can be verified by the “SINGLEUSER=yes” string on the third row of the <a href="#settings-properties">settings.properties</a> file.
In production use this is unacceptable as Open Hospital must be accessible only to the administrator and logged users.
Click on the triangle near the project’s name, do the same on the “rsc” subfolder and then double-click on the <a href="#settings-properties">settings.properties</a> file.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image66.png" alt="image" width="604" height="273"></span></p>
</div>
<div class="paragraph">
<p>Replace “yes” with “no” on the “SINGLEUSER” row. Press CTRL+S (or Command+S on Mac) to save the change.
Now rerun the application and after the splash window, a “login” window opens.
Click on the drop-down menu to choose the role. To access as the administrator, select “admin” and type the password.
The default is “admin”. The administrator has the right to register users as guests.
Guests have to choose “guest” from the drop-down menu and then type their password.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="media/image67.png" alt="image" width="604" height="377"></span><br></p>
</div>
<div class="paragraph">
<p>If the password is not correct, an error message is shown, asking the user to try again.</p>
</div>
<div class="paragraph">
<p>To better understand the processes built in the software also enable the “Standard Output” in
<em>log4j.properties</em> as explained in the chapter <a href="#log4j-properties">log4j.properties</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="update-open-hospital">6 Update Open Hospital</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_6_1_update_open_hospital_client_mode">6.1 Update Open Hospital - CLIENT mode</h3>
<div class="paragraph">
<p>New releases, as well as this Admin Manual and the User Manual, are regularly released on Github/SourceForge. See the <a href="#download">Download</a> section for more details.
NOTE: Following instructions only apply between “official releases”.</p>
</div>
<div class="paragraph">
<p>Minor releases (if not otherwise specified) do not need changes to the database structure, so the working copy can be replaced on each client with the new one and then connect to the same DB
(see <a href="#database-properties">database.properties</a> and <a href="#log4j-properties">log4j.properties</a>).</p>
</div>
<div class="paragraph">
<p>It is important to keep/preserve files that have been created or modified, especially configuration/settings and data files (see <a href="#configuration">Configuration</a>).
The easiest way is to backup the working copy and re-apply those settings in the new installation
(see the <a href="#backup-restore">Backup &amp; Restore</a> chapter).</p>
</div>
<div class="paragraph">
<p><strong>Major Releases</strong>:</p>
</div>
<div class="paragraph">
<p>Changes are found in the CHANGELOG file.</p>
</div>
<div class="paragraph">
<p>Major releases always have changes to the DB, and these changes are implemented via different scripts included in the
<em>sql</em> (mysql for older versions) folder (e.g.):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>OpenHospital_1_7_3.zip</strong></th>
<th class="tableblock halign-left valign-top"><strong>OpenHospital_1_8_0.zip</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OpenHospital_1_7_3/mysql/</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>OpenHospital_1_8_0/mysql/</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>…</p>
</div>
<div class="paragraph">
<p>step_30_help_manual.sql</p>
</div>
<div class="paragraph">
<p>step_31_alter_tables_innodb.sql</p>
</div>
<div class="paragraph">
<p>step_32_convert_birthdate_to_date.sql</p>
</div>
<div class="paragraph">
<p>step_33_grants_on_patientfolder.sql</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>…</p>
</div>
<div class="paragraph">
<p>step_30_help_manual.sql</p>
</div>
<div class="paragraph">
<p>step_31_alter_tables_innodb.sql</p>
</div>
<div class="paragraph">
<p>step_32_convert_birthdate_to_date.sql</p>
</div>
<div class="paragraph">
<p>step_33_grants_on_patientfolder.sql</p>
</div>
<div class="paragraph">
<p><strong>step_34_slim_opd_table.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_35_doctors_log.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_36_patientexamination_and_rollback_step23.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_37_suppliers_table.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_38_dicom.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_39_patientfolder_submenu.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_40_sms_module.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_41_common_bundles.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_42_procedure_accounting.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_43_no_payments_fix.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_44_lot_cost.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_45_new_pharmacy_alter_table.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_46_patients_birthdate.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_47_ipd_out_disease.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_48_male_female_wards.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_49_encrypt_passwords.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_50_medical_ward_permissions.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_51_rectify_medical_ward.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_52_therapy_model_changes.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_53_sms_module_extension.sql</strong></p>
</div>
<div class="paragraph">
<p><strong>step_54_enable_sms_on_visits.sql</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Thus the update process is as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Close the program if it is still running</p>
</li>
<li>
<p>Backup the current DB for safety (see <a href="#backup-restore">Backup &amp; Restore</a>)</p>
</li>
<li>
<p>Open a terminal in the folder sql/ (e.g.):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">C:\WINDOWS\system32&gt; cd C:\Users\OH\OpenHospital.1.11.4\sql

C:\Users\OH\OpenHospital.1.11.4\sql&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Run the following commands (e.g.):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">C:\Users\OH\OpenHospital.1.11.4\sql&gt; mysql –u root -p

Enter password: ****</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Use the ‘root’ password chosen during the installation process. The terminal should reply with the MySQL client command line prompt:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">MariaDB&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>Then execute all the SQL scripts that have been added from the previous version; for example:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">MariaDB&gt; source step_34_slim_opd_table.sql

MariaDB&gt; source step_35_doctors_log.sql

MariaDB&gt; source step_36_patientexamination_and_rollback_step23.sql

MariaDB&gt; source step_37_suppliers_table.sql

MariaDB&gt; source step_38_dicom.sql

MariaDB&gt; source step_39_patientfolder_submenu.sql

MariaDB&gt; source step_xx_function_yy.sql

...</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>If any error message occurs you can report an issue here:+
<a href="https://openhospital.atlassian.net/" class="bare">https://openhospital.atlassian.net/</a>.</p>
</li>
<li>
<p>If the procedure is successful, replace the OH working copy on each client with the new one and connect it to the same DB
(see <a href="#database-properties">database.properties</a> and <a href="#log4j-properties">log4j.properties</a>).
Remember to maintain the configuration files that have been changed, to preserve the custom settings.
(see <a href="#configuration">Configuration</a>). The most common way is to backup the working copy and re-apply those
settings in the new one (see <a href="#backup-restore">Backup &amp; Restore</a>).</p>
</li>
<li>
<p>Start the program and check the log files (data/logs) to ensure that the new version is running and has no error messages.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_6_2_update_open_hospital_portable_mode">6.2 Update Open Hospital - PORTABLE mode</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Open Hospital, used in PORTABLE mode, is not meant to be used in a production environment.
To migrate a portable installation to a full client/server configuration, keeping the existing data, the following steps must be performed:
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start Open Hospital in PORTABLE mode;</p>
</li>
<li>
<p>While OH is running:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><a href="#backup-data">Backup of data (Database)</a></p>
</li>
</ol>
</div>
</li>
<li>
<p>Close Open Hospital;</p>
</li>
<li>
<p>Install the database server as outlined here <a href="#database-server">Database Server and Open Hospital DB</a>;</p>
</li>
<li>
<p><a href="#restore-data">Restore of data (Database)</a> onto the the new database server;</p>
</li>
<li>
<p>Change settings to point to the new database (see <a href="#database-properties">database.properties</a> and <a href="#log4j-properties">log4j.properties</a>).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For questions about updating, migrating, or maintaining an Open Hospital installation, please contact us at:
<a href="https://www.open-hospital.org/contact" class="bare">https://www.open-hospital.org/contact</a> and specify:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A brief history of the organization;</p>
</li>
<li>
<p>The country where the installation is and the language used;</p>
</li>
<li>
<p>Technical details of the OH installation;</p>
</li>
<li>
<p>The current Open Hospital version;</p>
</li>
<li>
<p>Complete the <a href="https://goo.gl/forms/rXgcYTWpAyp9Eyqw1">Open Hospital Assessment online-form</a> form</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_7_license">7 License</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><a class="image" href="http://creativecommons.org/licenses/by-sa/4.0"><img src="media/by-sa.png" alt="bysa" width="88" height="31"></a></span> <span class="small">Informatici Senza Frontiere Onlus, 2022</span>
<br><span class="small">Administrator’s Guide, &#169; 2022 by <a href="https://www.informaticisenzafrontiere.org/">Informatici Senza Frontiere Onlus</a></span>
<br><span class="small">Policies is made available under a <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0</a> International License: <a href="http://creativecommons.org/licenses/by-sa/4.0/" class="bare">http://creativecommons.org/licenses/by-sa/4.0/</a>.</span></p>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Informatici Senza Frontiere - <a href="https://www.informaticisenzafrontiere.org" class="bare">https://www.informaticisenzafrontiere.org</a>
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. DataBase Management System
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. See <a href="https://www.mariadb.org" class="bare">https://www.mariadb.org</a>
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. <a href="https://mariadb.org/download/" class="bare">https://mariadb.org/download/</a>
</div>
<div class="footnote" id="_footnotedef_5">
<a href="#_footnoteref_5">5</a>. <a href="https://mariadb.org/documentation/" class="bare">https://mariadb.org/documentation/</a>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-10-27 14:18:15 +0200
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>